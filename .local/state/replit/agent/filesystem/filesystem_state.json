{"file_contents":{"index.php":{"content":"<?php\n// travelNepal - Professional Travel Website for Nepal\nrequire_once 'config/config.php';\nrequire_once 'includes/functions.php';\nrequire_once 'includes/router.php';\n\n$router = new Router();\n\n// Homepage\n$router->get('/', function() {\n    $featured_posts = loadBlogPosts(3);\n    includeTemplate('home', compact('featured_posts'));\n});\n\n// Blog listing\n$router->get('/blog', function() {\n    $posts = loadBlogPosts();\n    includeTemplate('blog/index', compact('posts'));\n});\n\n// Destinations listing\n$router->get('/destinations', function() {\n    includeTemplate('destinations');\n});\n\n// Individual destination\n$router->get('/destination/{slug}', function($slug) {\n    $destination = loadDestination($slug);\n    if (!$destination) {\n        http_response_code(404);\n        includeTemplate('404');\n        return;\n    }\n    includeTemplate('destination/detail', compact('destination'));\n});\n\n// Individual blog post\n$router->get('/blog/{slug}', function($slug) {\n    $post = loadBlogPost($slug);\n    if (!$post) {\n        http_response_code(404);\n        includeTemplate('404');\n        return;\n    }\n    includeTemplate('blog/post', compact('post'));\n});\n\n// Admin login\n$router->get('/admin/login', function() {\n    if (isLoggedIn()) {\n        header('Location: /admin/dashboard');\n        exit();\n    }\n    includeTemplate('admin/login');\n});\n\n$router->post('/admin/login', function() {\n    requireCSRF();\n    \n    $username = $_POST['username'] ?? '';\n    $password = $_POST['password'] ?? '';\n    \n    if ($username === ADMIN_USERNAME && $password === ADMIN_PASSWORD) {\n        // Regenerate session ID to prevent session fixation\n        session_regenerate_id(true);\n        $_SESSION['admin_logged_in'] = true;\n        header('Location: /admin/dashboard');\n    } else {\n        $error = 'Invalid credentials';\n        includeTemplate('admin/login', compact('error'));\n    }\n});\n\n// Admin logout\n$router->get('/admin/logout', function() {\n    session_destroy();\n    header('Location: /');\n});\n\n// Admin dashboard\n$router->get('/admin/dashboard', function() {\n    requireAuth();\n    $posts = loadAllBlogPosts();\n    includeTemplate('admin/dashboard', compact('posts'));\n});\n\n// Create/Edit post form\n$router->get('/admin/post/create', function() {\n    requireAuth();\n    includeTemplate('admin/post-form');\n});\n\n$router->get('/admin/post/edit/{slug}', function($slug) {\n    requireAuth();\n    $post = loadBlogPost($slug);\n    if (!$post) {\n        http_response_code(404);\n        includeTemplate('404');\n        return;\n    }\n    includeTemplate('admin/post-form', compact('post'));\n});\n\n// Save post\n$router->post('/admin/post/save', function() {\n    requireAuth();\n    requireCSRF();\n    \n    $data = [\n        'title' => sanitize($_POST['title']),\n        'content' => $_POST['content'], // Allow HTML for blog content\n        'excerpt' => sanitize($_POST['excerpt']),\n        'category' => sanitize($_POST['category']),\n        'tags' => array_map('sanitize', explode(',', $_POST['tags'] ?? '')),\n        'published' => isset($_POST['published']),\n        'updated_at' => time()\n    ];\n    \n    $isEditing = isset($_POST['slug']) && !empty($_POST['slug']);\n    \n    // Handle file upload\n    $fileUploaded = isset($_FILES['image_upload']) && $_FILES['image_upload']['error'] !== UPLOAD_ERR_NO_FILE;\n    \n    if ($fileUploaded) {\n        $uploadResult = handleFileUpload($_FILES['image_upload']);\n        \n        if ($uploadResult['success']) {\n            // Use uploaded file URL as featured image\n            $data['featured_image'] = $uploadResult['url'];\n        } else {\n            // Return with upload error\n            $error = 'Image upload failed: ' . $uploadResult['error'];\n            $post = $data; // Keep form data for redisplay\n            includeTemplate('admin/post-form', compact('post', 'error'));\n            return;\n        }\n    }\n    \n    // For new posts, require image upload\n    if (!$isEditing && !$fileUploaded) {\n        $error = 'An image is required. Please upload an image for your blog post.';\n        $post = $data; // Keep form data for redisplay\n        includeTemplate('admin/post-form', compact('post', 'error'));\n        return;\n    }\n    \n    // For editing posts, keep existing image if no new upload\n    if ($isEditing && !$fileUploaded) {\n        $existing = loadBlogPost($_POST['slug']);\n        if ($existing && !empty($existing['featured_image'])) {\n            $data['featured_image'] = $existing['featured_image'];\n        } else {\n            $error = 'This post needs an image. Please upload an image.';\n            $post = $data; // Keep form data for redisplay\n            includeTemplate('admin/post-form', compact('post', 'error'));\n            return;\n        }\n    }\n    \n    if ($isEditing) {\n        // Editing existing post\n        $data['slug'] = sanitize($_POST['slug']);\n        $existing = loadBlogPost($data['slug']);\n        if ($existing) {\n            $data['created_at'] = $existing['created_at'];\n        }\n    } else {\n        // Creating new post\n        $data['slug'] = generateSlug($data['title']);\n        $data['created_at'] = time();\n    }\n    \n    if (saveBlogPost($data)) {\n        // Get post ID for gallery image operations\n        $postId = getPostIdFromSlug($data['slug']);\n        \n        if ($postId) {\n            // Handle gallery image deletions\n            if (isset($_POST['delete_images']) && is_array($_POST['delete_images'])) {\n                foreach ($_POST['delete_images'] as $imageId) {\n                    deletePostImage(intval($imageId));\n                }\n            }\n            \n            // Handle new gallery image uploads\n            if (isset($_FILES['gallery_images']) && !empty($_FILES['gallery_images']['name'][0])) {\n                $uploadResult = handleMultipleFileUploads($_FILES['gallery_images']);\n                \n                if ($uploadResult['success']) {\n                    if (!empty($uploadResult['images'])) {\n                        // Save the new gallery images\n                        if (!savePostImages($postId, $uploadResult['images'])) {\n                            error_log('Failed to save gallery images for post: ' . $data['slug']);\n                        }\n                    }\n                    \n                    // Log any partial errors but don't fail the entire operation\n                    if (!empty($uploadResult['partial_errors'])) {\n                        error_log('Some gallery images failed to upload: ' . implode('; ', $uploadResult['partial_errors']));\n                    }\n                } else {\n                    // Gallery upload failed, but don't fail the entire post save\n                    error_log('Gallery image upload failed for post: ' . $data['slug'] . ' - ' . $uploadResult['error']);\n                }\n            }\n        }\n        \n        header('Location: /admin/dashboard');\n    } else {\n        $error = 'Failed to save post';\n        $post = $data; // Keep form data for redisplay\n        includeTemplate('admin/post-form', compact('post', 'error'));\n    }\n});\n\n// Delete post\n$router->post('/admin/post/delete/{slug}', function($slug) {\n    requireAuth();\n    requireCSRF();\n    deleteBlogPost($slug);\n    header('Location: /admin/dashboard');\n});\n\n// Category CRUD routes\n$router->post('/admin/category/create', function() {\n    requireAuth();\n    requireCSRF();\n    \n    header('Content-Type: application/json');\n    \n    $name = sanitize($_POST['category_name'] ?? '');\n    $slug = sanitize($_POST['category_slug'] ?? '');\n    \n    if (empty($name) || empty($slug)) {\n        echo json_encode(['success' => false, 'message' => 'Name and slug are required']);\n        return;\n    }\n    \n    $categoryId = createCategory($name, $slug);\n    if ($categoryId) {\n        echo json_encode(['success' => true, 'id' => $categoryId]);\n    } else {\n        echo json_encode(['success' => false, 'message' => 'Failed to create category']);\n    }\n});\n\n$router->post('/admin/category/update/{id}', function($id) {\n    requireAuth();\n    requireCSRF();\n    \n    header('Content-Type: application/json');\n    \n    $name = sanitize($_POST['category_name'] ?? '');\n    $slug = sanitize($_POST['category_slug'] ?? '');\n    \n    if (empty($name) || empty($slug)) {\n        echo json_encode(['success' => false, 'message' => 'Name and slug are required']);\n        return;\n    }\n    \n    if (updateCategory($id, $name, $slug)) {\n        echo json_encode(['success' => true]);\n    } else {\n        echo json_encode(['success' => false, 'message' => 'Failed to update category']);\n    }\n});\n\n$router->post('/admin/category/delete/{id}', function($id) {\n    requireAuth();\n    requireCSRF();\n    \n    if (deleteCategory($id)) {\n        header('Location: /admin/dashboard');\n    } else {\n        // Return to dashboard with error - could implement flash messages\n        header('Location: /admin/dashboard');\n    }\n});\n\n// About page\n$router->get('/about', function() {\n    includeTemplate('about');\n});\n\n// Contact page\n$router->get('/contact', function() {\n    includeTemplate('contact');\n});\n\n// Static assets - Images in subdirectories\n$router->get('/assets/images/{file}', function($file) {\n    // Security: prevent directory traversal\n    if (strpos($file, '..') !== false || strpos($file, '/') !== false || strpos($file, '\\\\') !== false) {\n        http_response_code(404);\n        return;\n    }\n    \n    $filePath = ASSETS_PATH . '/images/' . $file;\n    if (file_exists($filePath) && is_file($filePath)) {\n        $mime = mime_content_type($filePath);\n        header('Content-Type: ' . $mime);\n        header('Cache-Control: public, max-age=31536000'); // Cache for 1 year\n        readfile($filePath);\n    } else {\n        http_response_code(404);\n    }\n});\n\n// Static assets (basic handling for root assets)\n$router->get('/assets/{file}', function($file) {\n    // Security: prevent directory traversal\n    if (strpos($file, '..') !== false || strpos($file, '/') !== false || strpos($file, '\\\\') !== false) {\n        http_response_code(404);\n        return;\n    }\n    \n    $filePath = ASSETS_PATH . '/' . $file;\n    if (file_exists($filePath) && is_file($filePath)) {\n        $mime = mime_content_type($filePath);\n        header('Content-Type: ' . $mime);\n        readfile($filePath);\n    } else {\n        http_response_code(404);\n    }\n});\n\n// Uploaded files (secure handling)\n$router->get('/uploads/{year}/{month}/{file}', function($year, $month, $file) {\n    // Sanitize inputs to prevent directory traversal\n    $year = sanitizeFilePath($year);\n    $month = sanitizeFilePath($month);\n    $file = sanitizeFilePath($file);\n    \n    // Validate year and month format\n    if (!preg_match('/^\\d{4}$/', $year) || !preg_match('/^\\d{2}$/', $month)) {\n        http_response_code(404);\n        return;\n    }\n    \n    // Validate file extension\n    $extension = strtolower(pathinfo($file, PATHINFO_EXTENSION));\n    if (!in_array($extension, ALLOWED_EXTENSIONS)) {\n        http_response_code(404);\n        return;\n    }\n    \n    $filePath = UPLOADS_PATH . \"/{$year}/{$month}/{$file}\";\n    \n    if (file_exists($filePath) && is_file($filePath)) {\n        // Get mime type and validate it's an image\n        $mime = mime_content_type($filePath);\n        if (!in_array($mime, ALLOWED_IMAGE_TYPES)) {\n            http_response_code(404);\n            return;\n        }\n        \n        // Set security headers\n        header('Content-Type: ' . $mime);\n        header('X-Content-Type-Options: nosniff');\n        header('Content-Security-Policy: default-src \\'none\\'; img-src \\'self\\'; style-src \\'none\\'; script-src \\'none\\';');\n        \n        // Cache headers for better performance\n        $lastModified = filemtime($filePath);\n        header('Last-Modified: ' . gmdate('D, d M Y H:i:s', $lastModified) . ' GMT');\n        header('Cache-Control: public, max-age=31536000'); // 1 year\n        \n        // Check if client has cached version\n        if (isset($_SERVER['HTTP_IF_MODIFIED_SINCE'])) {\n            $clientModified = strtotime($_SERVER['HTTP_IF_MODIFIED_SINCE']);\n            if ($clientModified >= $lastModified) {\n                http_response_code(304);\n                return;\n            }\n        }\n        \n        readfile($filePath);\n    } else {\n        http_response_code(404);\n    }\n});\n\n\n// Run the router\n$router->run();\n?>","size_bytes":12335},"replit.md":{"content":"# Overview\n\ntravelNepal is a professional travel website showcasing Nepal's tourism destinations, trekking routes, and cultural heritage. The project is a fully functional blog-focused website with modern UI design and comprehensive admin management system. Features include detailed travel guides, blog posts, and rich content about Nepal's destinations including Everest Base Camp, Annapurna Circuit, Pokhara, and Kathmandu's cultural sites.\n\n**Current Status**: Completed professional website (September 2025)\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\nBrand: travelNepal with custom Nepal-inspired design elements\nDesign: Modern UI inspired by professional travel websites and design platforms\n\n# Project Architecture\n\n## Technical Stack\n- **Backend**: Pure PHP with custom routing system (no frameworks)\n- **Frontend**: HTML5, Tailwind CSS with custom travelNepal branding, Vanilla JavaScript\n- **Content Storage**: JSON-based file system for blog posts and data\n- **Authentication**: PHP sessions with secure admin login system\n- **Server**: PHP built-in development server (port 5000)\n\n## Frontend Architecture\n- **Modern UI Design**: Professional travel website with Tailwind CSS framework\n- **Custom travelNepal Branding**: Nepal-inspired color palette (nepal-* and mountain-* colors)\n- **Responsive Design**: Mobile-first approach with dedicated navigation and responsive layouts\n- **JavaScript Interactions**: Vanilla JS for smooth scrolling, mobile menu, scroll animations, and admin functionality\n\n## Content Management System\n- **File-based Storage**: Blog posts stored as JSON files in `/data/posts/` directory\n- **Admin Dashboard**: Complete CRUD operations for blog post management\n- **Rich Content**: Each post includes title, excerpt, content, featured images, categories, tags, and metadata\n- **URL Structure**: SEO-friendly slugs with timestamp suffixes for uniqueness\n\n## Security Features\n- **CSRF Protection**: Comprehensive token-based protection for all admin operations\n- **Session Management**: Secure PHP sessions with regeneration and proper cookie settings\n- **Authentication System**: Environment-based admin credentials with password hashing\n- **Input Sanitization**: Proper data sanitization and validation throughout\n\n## Admin System\n- **Secure Login**: Professional login page with CSRF protection and session management\n- **Dashboard**: Statistics overview and blog post management interface\n- **Post Management**: Create, read, update, and delete operations with rich text editing\n- **User Experience**: Modern admin interface with confirmation dialogs and success notifications\n\n## Content & Assets\n- **High-Quality Images**: Custom generated Nepal travel images (Everest, Kathmandu, Pokhara)\n- **Travel Content**: Authentic Nepal travel guides and blog posts\n- **Professional Copy**: Travel website content optimized for engagement\n- **Asset Organization**: Structured image and JavaScript file management\n\n## User Experience Features\n- **Hero Sections**: Immersive Nepal imagery with gradient overlays\n- **Navigation**: Responsive navbar with mobile menu and smooth transitions\n- **Blog System**: Category filtering, related posts, and social sharing\n- **Performance**: Optimized loading with proper error handling\n- **Modern Interactions**: Hover effects, animations, and professional styling\n\n# Recent Changes (September 2025)\n\n## Database Migration & Security Fixes (September 23, 2025)\n- **Database Migration**: Successfully migrated from JSON file storage to PostgreSQL database\n- **Security Enhancement**: Fixed all SQL injection vulnerabilities using PDO prepared statements\n- **Category System Overhaul**: Implemented complete category CRUD with proper relational database design\n- **Admin Interface**: Added dynamic category management with create/edit/delete functionality\n- **Database Schema**: Created proper posts and categories tables with foreign key relationships\n- **Testing Complete**: Comprehensive testing verified all functionality working correctly\n\n## Original Development (September 2025)\n- Built complete professional travelNepal website from scratch\n- Implemented secure admin login and dashboard system\n- Created modern UI with custom Tailwind CSS configuration\n- Added comprehensive blog management system with CRUD operations\n- Generated high-quality Nepal travel content and imagery\n- Implemented security best practices with CSRF protection and secure sessions","size_bytes":4468},"config/config.php":{"content":"<?php\n// travelNepal Configuration File\n\n// Site Configuration\ndefine('SITE_NAME', 'travelNepal');\ndefine('SITE_URL', 'http://localhost:5000');\ndefine('SITE_DESCRIPTION', 'Discover the breathtaking beauty of Nepal - Your ultimate travel guide to the Himalayas');\n\n// Paths\ndefine('BASE_PATH', __DIR__ . '/..');\ndefine('TEMPLATES_PATH', BASE_PATH . '/templates');\ndefine('ASSETS_PATH', BASE_PATH . '/assets');\ndefine('DATA_PATH', BASE_PATH . '/data');\ndefine('UPLOADS_PATH', BASE_PATH . '/uploads');\n\n// Upload Configuration\ndefine('MAX_UPLOAD_SIZE', 5 * 1024 * 1024); // 5MB in bytes\ndefine('ALLOWED_IMAGE_TYPES', ['image/jpeg', 'image/png', 'image/webp']);\ndefine('ALLOWED_EXTENSIONS', ['jpg', 'jpeg', 'png', 'webp']);\n\n// Set PHP upload limits to match our constraints\nini_set('upload_max_filesize', '5M');\nini_set('post_max_size', '6M'); // Slightly larger to account for form data\nini_set('max_input_time', 60);\nini_set('memory_limit', '128M');\n\n// Admin Configuration - Require environment variables for security\nif (!isset($_ENV['ADMIN_USERNAME']) || empty($_ENV['ADMIN_USERNAME'])) {\n    die('ERROR: ADMIN_USERNAME environment variable is required for security. Please set it in your environment.');\n}\nif (!isset($_ENV['ADMIN_PASSWORD']) || empty($_ENV['ADMIN_PASSWORD'])) {\n    die('ERROR: ADMIN_PASSWORD environment variable is required for security. Please set it in your environment.');\n}\n\ndefine('ADMIN_USERNAME', $_ENV['ADMIN_USERNAME']);\ndefine('ADMIN_PASSWORD', $_ENV['ADMIN_PASSWORD']);\n\n// Session Configuration\nini_set('session.cookie_httponly', 1);\nini_set('session.use_only_cookies', 1);\n\n// Set session.cookie_secure conditionally based on HTTPS/production environment\n$isHTTPS = (\n    (isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on') ||\n    (isset($_SERVER['REQUEST_SCHEME']) && $_SERVER['REQUEST_SCHEME'] === 'https') ||\n    (isset($_ENV['PRODUCTION_MODE']) && $_ENV['PRODUCTION_MODE'] === 'true')\n);\n\nini_set('session.cookie_secure', $isHTTPS ? 1 : 0);\nini_set('session.cookie_samesite', 'Strict');\nini_set('session.cookie_lifetime', 3600); // 1 hour\nini_set('session.gc_maxlifetime', 3600); // 1 hour\nini_set('session.entropy_length', 32);\nini_set('session.hash_function', 'sha256');\n\n// Start session if not already started\nif (session_status() === PHP_SESSION_NONE) {\n    session_start();\n}\n\n// Database Configuration\nif (!isset($_ENV['DATABASE_URL']) || empty($_ENV['DATABASE_URL'])) {\n    die('ERROR: DATABASE_URL environment variable is required for database connection.');\n}\n\ndefine('DATABASE_URL', $_ENV['DATABASE_URL']);\ndefine('ENVIRONMENT', 'development');\n\n/**\n * Get database connection (returns null if connection fails)\n */\nfunction getDbConnection() {\n    static $pdo = null;\n    static $connection_attempted = false;\n    \n    if (!$connection_attempted) {\n        $connection_attempted = true;\n        try {\n            // Parse the PostgreSQL URL to create proper DSN\n            $dbUrl = DATABASE_URL;\n            $parsed = parse_url($dbUrl);\n            \n            // Build DSN in the format PDO expects\n            $dsn = sprintf(\"pgsql:host=%s;port=%d;dbname=%s;sslmode=prefer\", \n                          $parsed['host'], \n                          $parsed['port'] ?? 5432, \n                          trim($parsed['path'], '/'));\n            \n            // Create PDO connection with parsed credentials\n            $pdo = new PDO($dsn, $parsed['user'], $parsed['pass'], [\n                PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n                PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n                PDO::ATTR_EMULATE_PREPARES => false,\n            ]);\n        } catch (PDOException $e) {\n            error_log('Database connection failed: ' . $e->getMessage());\n            $pdo = null; // Set to null so functions can handle gracefully\n        }\n    }\n    \n    return $pdo;\n}\n\n// Create necessary directories\n$directories = [DATA_PATH, ASSETS_PATH . '/images', TEMPLATES_PATH, UPLOADS_PATH];\nforeach ($directories as $dir) {\n    if (!is_dir($dir)) {\n        mkdir($dir, 0755, true);\n    }\n}\n?>","size_bytes":4068},"includes/functions.php":{"content":"<?php\n// travelNepal Utility Functions\n\n/**\n * Sanitize input data\n */\nfunction sanitize($data) {\n    return htmlspecialchars(strip_tags(trim($data)));\n}\n\n/**\n * Check if user is logged in as admin\n */\nfunction isLoggedIn() {\n    return isset($_SESSION['admin_logged_in']) && $_SESSION['admin_logged_in'] === true;\n}\n\n/**\n * Redirect to login if not authenticated\n */\nfunction requireAuth() {\n    if (!isLoggedIn()) {\n        header('Location: /admin/login');\n        exit();\n    }\n}\n\n/**\n * Generate a unique slug from title\n */\nfunction generateSlug($text) {\n    $text = preg_replace('~[^\\pL\\d]+~u', '-', $text);\n    $text = iconv('utf-8', 'us-ascii//TRANSLIT', $text);\n    $text = preg_replace('~[^-\\w]+~', '', $text);\n    $text = trim($text, '-');\n    $text = preg_replace('~-+~', '-', $text);\n    $text = strtolower($text);\n    return $text . '-' . time();\n}\n\n/**\n * Format date for display\n */\nfunction formatDate($timestamp) {\n    return date('F j, Y', $timestamp);\n}\n\n/**\n * Truncate text for excerpts\n */\nfunction truncateText($text, $length = 150) {\n    if (strlen($text) <= $length) {\n        return $text;\n    }\n    return substr($text, 0, $length) . '...';\n}\n\n/**\n * Load blog posts from database\n */\nfunction loadBlogPosts($limit = null, $includeUnpublished = false) {\n    $pdo = getDbConnection();\n    \n    // If database connection available, use it\n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, title, slug, excerpt, content, category, tags, featured_image, published, \n                           EXTRACT(EPOCH FROM created_at) as created_at, \n                           EXTRACT(EPOCH FROM updated_at) as updated_at \n                    FROM posts\";\n            \n            if (!$includeUnpublished) {\n                $sql .= \" WHERE published = true\";\n            }\n            \n            $sql .= \" ORDER BY created_at DESC\";\n            \n            if ($limit) {\n                $sql .= \" LIMIT \" . intval($limit);\n            }\n            \n            $stmt = $pdo->query($sql);\n            $posts = $stmt->fetchAll();\n            \n            // Convert JSON tags back to array and timestamps to integers\n            foreach ($posts as &$post) {\n                $post['tags'] = json_decode($post['tags'], true) ?: [];\n                $post['created_at'] = (int)$post['created_at'];\n                $post['updated_at'] = (int)$post['updated_at'];\n                $post['published'] = (bool)$post['published'];\n            }\n            \n            return $posts;\n        } catch (Exception $e) {\n            error_log('Database query error: ' . $e->getMessage());\n            // Fall through to JSON fallback\n        }\n    }\n    \n    // Fallback to JSON file method\n    $dataPath = DATA_PATH . '/posts';\n    if (!is_dir($dataPath)) {\n        return [];\n    }\n    \n    $posts = [];\n    $files = array_diff(scandir($dataPath), ['.', '..']);\n    \n    foreach ($files as $file) {\n        if (pathinfo($file, PATHINFO_EXTENSION) === 'json') {\n            $content = file_get_contents($dataPath . '/' . $file);\n            $post = json_decode($content, true);\n            if ($post && ($includeUnpublished || $post['published'])) {\n                $posts[] = $post;\n            }\n        }\n    }\n    \n    // Sort by creation date (newest first)\n    usort($posts, function($a, $b) {\n        return $b['created_at'] - $a['created_at'];\n    });\n    \n    return $limit ? array_slice($posts, 0, $limit) : $posts;\n}\n\n/**\n * Load a single blog post by slug\n */\nfunction loadBlogPost($slug) {\n    $pdo = getDbConnection();\n    \n    // If database connection available, use it\n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, title, slug, excerpt, content, category, tags, featured_image, published, \n                           EXTRACT(EPOCH FROM created_at) as created_at, \n                           EXTRACT(EPOCH FROM updated_at) as updated_at \n                    FROM posts WHERE slug = ?\";\n            \n            $stmt = $pdo->prepare($sql);\n            $stmt->execute([$slug]);\n            $post = $stmt->fetch();\n            \n            if ($post) {\n                // Convert JSON tags back to array and timestamps to integers\n                $post['tags'] = json_decode($post['tags'], true) ?: [];\n                $post['created_at'] = (int)$post['created_at'];\n                $post['updated_at'] = (int)$post['updated_at'];\n                $post['published'] = (bool)$post['published'];\n            }\n            \n            return $post ?: null;\n        } catch (Exception $e) {\n            error_log('Database query error: ' . $e->getMessage());\n            // Fall through to JSON fallback\n        }\n    }\n    \n    // Fallback to JSON file method\n    $filePath = DATA_PATH . \"/posts/{$slug}.json\";\n    if (!file_exists($filePath)) {\n        return null;\n    }\n    \n    $content = file_get_contents($filePath);\n    return json_decode($content, true);\n}\n\n/**\n * Save blog post to database\n */\nfunction saveBlogPost($data) {\n    $pdo = getDbConnection();\n    \n    // If database connection available, use it\n    if ($pdo !== null) {\n        try {\n            // Check if this is an update (post exists) or insert (new post)\n            $existingPost = loadBlogPost($data['slug']);\n            \n            // Prepare data for database insertion\n            $tags_json = json_encode($data['tags']);\n            $published = $data['published'] ? 'true' : 'false';\n            \n            // Get category_id from category name\n            $category_id = null;\n            if (!empty($data['category'])) {\n                $category_id = getCategoryIdByName($data['category']);\n                if (!$category_id) {\n                    // Category doesn't exist, create it\n                    $category_id = createCategory($data['category']);\n                }\n            }\n            \n            if ($existingPost) {\n                // Update existing post\n                $sql = \"UPDATE posts SET \n                            title = ?,\n                            excerpt = ?,\n                            content = ?,\n                            category = ?,\n                            category_id = ?,\n                            tags = ?,\n                            featured_image = ?,\n                            published = ?,\n                            updated_at = CURRENT_TIMESTAMP\n                        WHERE slug = ?\";\n                        \n                $stmt = $pdo->prepare($sql);\n                $stmt->execute([\n                    $data['title'],\n                    $data['excerpt'], \n                    $data['content'],\n                    $data['category'], // Keep for backward compatibility\n                    $category_id,\n                    $tags_json,\n                    $data['featured_image'],\n                    $published,\n                    $data['slug']\n                ]);\n            } else {\n                // Insert new post\n                $sql = \"INSERT INTO posts (title, slug, excerpt, content, category, category_id, tags, featured_image, published, created_at, updated_at)\n                        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)\";\n                        \n                $stmt = $pdo->prepare($sql);\n                $stmt->execute([\n                    $data['title'],\n                    $data['slug'],\n                    $data['excerpt'],\n                    $data['content'], \n                    $data['category'], // Keep for backward compatibility\n                    $category_id,\n                    $tags_json,\n                    $data['featured_image'],\n                    $published\n                ]);\n            }\n            return true;\n        } catch (Exception $e) {\n            error_log('Database save error: ' . $e->getMessage());\n            // Fall through to JSON fallback\n        }\n    }\n    \n    // Fallback to JSON file method\n    $dataPath = DATA_PATH . '/posts';\n    if (!is_dir($dataPath)) {\n        mkdir($dataPath, 0755, true);\n    }\n    \n    $filePath = $dataPath . '/' . $data['slug'] . '.json';\n    return file_put_contents($filePath, json_encode($data, JSON_PRETTY_PRINT)) !== false;\n}\n\n/**\n * Delete blog post\n */\nfunction deleteBlogPost($slug) {\n    $pdo = getDbConnection();\n    \n    // If database connection available, use it\n    if ($pdo !== null) {\n        try {\n            // First get the post ID to clean up gallery images\n            $postId = getPostIdFromSlug($slug);\n            \n            if ($postId) {\n                // Delete all gallery images (this will clean up files too)\n                deletePostImages($postId);\n            }\n            \n            // Delete the post (CASCADE will handle remaining DB records)\n            $sql = \"DELETE FROM posts WHERE slug = ?\";\n            $stmt = $pdo->prepare($sql);\n            $stmt->execute([$slug]);\n            return true;\n        } catch (Exception $e) {\n            error_log('Database delete error: ' . $e->getMessage());\n            // Fall through to JSON fallback\n        }\n    }\n    \n    // Fallback to JSON file method\n    $filePath = DATA_PATH . \"/posts/{$slug}.json\";\n    if (file_exists($filePath)) {\n        return unlink($filePath);\n    }\n    return false;\n}\n\n/**\n * Generate CSRF token\n */\nfunction generateCSRFToken() {\n    if (!isset($_SESSION['csrf_token'])) {\n        $_SESSION['csrf_token'] = bin2hex(random_bytes(32));\n    }\n    return $_SESSION['csrf_token'];\n}\n\n/**\n * Verify CSRF token\n */\nfunction verifyCSRFToken($token) {\n    return isset($_SESSION['csrf_token']) && hash_equals($_SESSION['csrf_token'], $token);\n}\n\n/**\n * Require valid CSRF token or die\n */\nfunction requireCSRF() {\n    $token = $_POST['csrf_token'] ?? '';\n    if (!verifyCSRFToken($token)) {\n        http_response_code(403);\n        die('CSRF token verification failed');\n    }\n}\n\n/**\n * Include template with variables\n */\nfunction includeTemplate($template, $variables = []) {\n    extract($variables);\n    include TEMPLATES_PATH . '/' . $template . '.php';\n}\n\n/**\n * Get all categories from database\n */\nfunction getCategories() {\n    $pdo = getDbConnection();\n    \n    // If database connection available, use it\n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, name, slug FROM categories ORDER BY name\";\n            $stmt = $pdo->query($sql);\n            return $stmt->fetchAll();\n        } catch (Exception $e) {\n            error_log('Database categories error: ' . $e->getMessage());\n            // Fall through to default categories\n        }\n    }\n    \n    // Fallback to default categories\n    return [\n        ['id' => 1, 'name' => 'Trekking', 'slug' => 'trekking'],\n        ['id' => 2, 'name' => 'Culture', 'slug' => 'culture'],\n        ['id' => 3, 'name' => 'Adventure', 'slug' => 'adventure'],\n        ['id' => 4, 'name' => 'Photography', 'slug' => 'photography'],\n        ['id' => 5, 'name' => 'Food', 'slug' => 'food']\n    ];\n}\n\n/**\n * Load all blog posts including unpublished (for admin)\n */\nfunction loadAllBlogPosts($limit = null) {\n    return loadBlogPosts($limit, true);\n}\n\n/**\n * Create a new category\n */\nfunction createCategory($name, $slug = null) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        // Generate slug if not provided\n        if ($slug === null) {\n            $slug = strtolower(preg_replace('/[^a-zA-Z0-9]+/', '-', trim($name)));\n            $slug = trim($slug, '-');\n        }\n        \n        $sql = \"INSERT INTO categories (name, slug, created_at, updated_at) VALUES (?, ?, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)\";\n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$name, $slug]);\n        return $pdo->lastInsertId();\n    } catch (Exception $e) {\n        error_log('Database category creation error: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Update an existing category\n */\nfunction updateCategory($id, $name, $slug) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        $sql = \"UPDATE categories SET name = ?, slug = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?\";\n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$name, $slug, $id]);\n        return true;\n    } catch (Exception $e) {\n        error_log('Database category update error: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Delete a category\n */\nfunction deleteCategory($id) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        // First check if category is in use\n        $checkSql = \"SELECT COUNT(*) FROM posts WHERE category_id = ?\";\n        $checkStmt = $pdo->prepare($checkSql);\n        $checkStmt->execute([$id]);\n        $postCount = $checkStmt->fetchColumn();\n        \n        if ($postCount > 0) {\n            // Category is in use, cannot delete\n            return ['success' => false, 'error' => 'Cannot delete category: it is being used by ' . $postCount . ' post(s)'];\n        }\n        \n        $sql = \"DELETE FROM categories WHERE id = ?\";\n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$id]);\n        return ['success' => true];\n    } catch (Exception $e) {\n        error_log('Database category deletion error: ' . $e->getMessage());\n        return ['success' => false, 'error' => 'Database error occurred'];\n    }\n}\n\n/**\n * Get a single category by ID\n */\nfunction getCategory($id) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return null;\n    }\n    \n    try {\n        $sql = \"SELECT id, name, slug, created_at, updated_at FROM categories WHERE id = ?\";\n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$id]);\n        return $stmt->fetch();\n    } catch (Exception $e) {\n        error_log('Database category fetch error: ' . $e->getMessage());\n        return null;\n    }\n}\n\n/**\n * Get category ID by name (for migration/compatibility)\n */\nfunction getCategoryIdByName($categoryName) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return null;\n    }\n    \n    try {\n        $sql = \"SELECT id FROM categories WHERE name = ? LIMIT 1\";\n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$categoryName]);\n        $result = $stmt->fetchColumn();\n        return $result ?: null;\n    } catch (Exception $e) {\n        error_log('Database category ID lookup error: ' . $e->getMessage());\n        return null;\n    }\n}\n\n/**\n * Generate secure random filename for uploads\n */\nfunction generateSecureFilename($originalName) {\n    $extension = strtolower(pathinfo($originalName, PATHINFO_EXTENSION));\n    $randomName = bin2hex(random_bytes(16));\n    return $randomName . '.' . $extension;\n}\n\n/**\n * Validate uploaded file security and constraints\n */\nfunction validateUploadedFile($file) {\n    $errors = [];\n    \n    // Check if file was uploaded\n    if (!isset($file['tmp_name']) || empty($file['tmp_name'])) {\n        return ['No file uploaded'];\n    }\n    \n    // Check for upload errors\n    if ($file['error'] !== UPLOAD_ERR_OK) {\n        return ['File upload error: ' . $file['error']];\n    }\n    \n    // Check file size\n    if ($file['size'] > MAX_UPLOAD_SIZE) {\n        $maxSizeMB = MAX_UPLOAD_SIZE / (1024 * 1024);\n        return [\"File too large. Maximum size: {$maxSizeMB}MB\"];\n    }\n    \n    // Check MIME type\n    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n    $mimeType = finfo_file($finfo, $file['tmp_name']);\n    finfo_close($finfo);\n    \n    if (!in_array($mimeType, ALLOWED_IMAGE_TYPES)) {\n        return ['Invalid file type. Only JPEG, PNG, and WebP images are allowed.'];\n    }\n    \n    // Check file extension\n    $extension = strtolower(pathinfo($file['name'], PATHINFO_EXTENSION));\n    if (!in_array($extension, ALLOWED_EXTENSIONS)) {\n        return ['Invalid file extension. Only jpg, jpeg, png, and webp files are allowed.'];\n    }\n    \n    // Additional security: check file signature (magic bytes)\n    $handle = fopen($file['tmp_name'], 'rb');\n    $signature = fread($handle, 8);\n    fclose($handle);\n    \n    $validSignatures = [\n        \"\\xFF\\xD8\\xFF\", // JPEG\n        \"\\x89\\x50\\x4E\\x47\\x0D\\x0A\\x1A\\x0A\", // PNG\n        \"RIFF\", // WebP (RIFF header)\n    ];\n    \n    $isValidSignature = false;\n    foreach ($validSignatures as $validSig) {\n        if (strpos($signature, $validSig) === 0) {\n            $isValidSignature = true;\n            break;\n        }\n    }\n    \n    if (!$isValidSignature) {\n        return ['Invalid file format. File appears to be corrupted or not a valid image.'];\n    }\n    \n    // Check for PHP code in image files (additional security)\n    $content = file_get_contents($file['tmp_name']);\n    if (strpos($content, '<?php') !== false || strpos($content, '<?=') !== false || \n        strpos($content, '<script') !== false || strpos($content, '<html') !== false) {\n        return ['Security violation: File contains potentially malicious content.'];\n    }\n    \n    return []; // No errors\n}\n\n/**\n * Create upload directory for year/month structure\n */\nfunction createUploadDirectory() {\n    $year = date('Y');\n    $month = date('m');\n    $uploadDir = UPLOADS_PATH . \"/{$year}/{$month}\";\n    \n    if (!is_dir($uploadDir)) {\n        if (!mkdir($uploadDir, 0755, true)) {\n            return false;\n        }\n    }\n    \n    return $uploadDir;\n}\n\n/**\n * Handle secure file upload\n */\nfunction handleFileUpload($file) {\n    // Validate file\n    $errors = validateUploadedFile($file);\n    if (!empty($errors)) {\n        return ['success' => false, 'error' => implode(' ', $errors)];\n    }\n    \n    // Create upload directory\n    $uploadDir = createUploadDirectory();\n    if (!$uploadDir) {\n        return ['success' => false, 'error' => 'Failed to create upload directory'];\n    }\n    \n    // Generate secure filename\n    $secureFilename = generateSecureFilename($file['name']);\n    $targetPath = $uploadDir . '/' . $secureFilename;\n    \n    // Move uploaded file\n    if (!move_uploaded_file($file['tmp_name'], $targetPath)) {\n        return ['success' => false, 'error' => 'Failed to move uploaded file'];\n    }\n    \n    // Set proper permissions\n    chmod($targetPath, 0644);\n    \n    // Generate public URL\n    $year = date('Y');\n    $month = date('m');\n    $publicUrl = \"/uploads/{$year}/{$month}/{$secureFilename}\";\n    \n    return [\n        'success' => true,\n        'url' => $publicUrl,\n        'filename' => $secureFilename,\n        'path' => $targetPath\n    ];\n}\n\n/**\n * Sanitize and prevent directory traversal\n */\nfunction sanitizeFilePath($path) {\n    // Remove any directory traversal attempts (multiple passes to handle complex attacks)\n    $path = str_replace(['../', '..\\/', '..\\\\', '...', '..', './', '.\\/', '.\\\\'], '', $path);\n    $path = str_replace(['../', '..\\/', '..\\\\', '...', '..', './', '.\\/', '.\\\\'], '', $path); // Second pass\n    \n    // Only allow alphanumeric characters, dots, hyphens, and underscores (no slashes)\n    $path = preg_replace('/[^a-zA-Z0-9._\\-]/', '', $path);\n    \n    // Ensure no empty path or suspicious patterns\n    if (empty($path) || strpos($path, '..') !== false || strpos($path, './') !== false) {\n        return 'invalid';\n    }\n    \n    return $path;\n}\n\n/**\n * Load destinations from database\n */\nfunction loadDestinations($limit = null, $featured_only = false, $category = null, $options = []) {\n    $pdo = getDbConnection();\n    \n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, name, slug, description, long_description, featured_image, \n                           category, region, altitude_range, best_time_to_visit, duration, \n                           difficulty_level, highlights, activities, location_coordinates,\n                           entry_permits_required, accommodation_available, transportation_info,\n                           featured, published, meta_title, meta_description,\n                           EXTRACT(EPOCH FROM created_at) as created_at,\n                           EXTRACT(EPOCH FROM updated_at) as updated_at\n                    FROM destinations WHERE published = true\";\n            \n            $params = [];\n            \n            if ($featured_only) {\n                $sql .= \" AND featured = true\";\n            }\n            \n            if ($category) {\n                $sql .= \" AND category = ?\";\n                $params[] = $category;\n            }\n            \n            if (!empty($options['exclude_slug'])) {\n                $sql .= \" AND slug != ?\";\n                $params[] = $options['exclude_slug'];\n            }\n            \n            $sql .= \" ORDER BY featured DESC, created_at DESC\";\n            \n            if ($limit) {\n                $sql .= \" LIMIT \" . intval($limit);\n            }\n            \n            $stmt = $pdo->prepare($sql);\n            $stmt->execute($params);\n            $destinations = $stmt->fetchAll();\n            \n            // Convert JSON fields back to arrays and timestamps to integers\n            foreach ($destinations as &$destination) {\n                $destination['highlights'] = json_decode($destination['highlights'], true) ?: [];\n                $destination['activities'] = json_decode($destination['activities'], true) ?: [];\n                $destination['created_at'] = (int)$destination['created_at'];\n                $destination['updated_at'] = (int)$destination['updated_at'];\n                $destination['featured'] = (bool)$destination['featured'];\n                $destination['published'] = (bool)$destination['published'];\n                $destination['entry_permits_required'] = (bool)$destination['entry_permits_required'];\n                $destination['accommodation_available'] = (bool)$destination['accommodation_available'];\n            }\n            \n            return $destinations;\n        } catch (Exception $e) {\n            error_log('Database query error: ' . $e->getMessage());\n        }\n    }\n    \n    return [];\n}\n\n/**\n * Load all destinations including unpublished (for admin)\n */\nfunction loadAllDestinations() {\n    $pdo = getDbConnection();\n    \n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, name, slug, description, long_description, featured_image, \n                           category, region, altitude_range, best_time_to_visit, duration, \n                           difficulty_level, highlights, activities, location_coordinates,\n                           entry_permits_required, accommodation_available, transportation_info,\n                           featured, published, meta_title, meta_description,\n                           EXTRACT(EPOCH FROM created_at) as created_at,\n                           EXTRACT(EPOCH FROM updated_at) as updated_at\n                    FROM destinations ORDER BY created_at DESC\";\n            \n            $stmt = $pdo->query($sql);\n            $destinations = $stmt->fetchAll();\n            \n            // Convert JSON fields back to arrays and timestamps to integers\n            foreach ($destinations as &$destination) {\n                $destination['highlights'] = json_decode($destination['highlights'], true) ?: [];\n                $destination['activities'] = json_decode($destination['activities'], true) ?: [];\n                $destination['created_at'] = (int)$destination['created_at'];\n                $destination['updated_at'] = (int)$destination['updated_at'];\n                $destination['featured'] = (bool)$destination['featured'];\n                $destination['published'] = (bool)$destination['published'];\n                $destination['entry_permits_required'] = (bool)$destination['entry_permits_required'];\n                $destination['accommodation_available'] = (bool)$destination['accommodation_available'];\n            }\n            \n            return $destinations;\n        } catch (Exception $e) {\n            error_log('Database query error: ' . $e->getMessage());\n        }\n    }\n    \n    return [];\n}\n\n/**\n * Load a single destination by slug\n */\nfunction loadDestination($slug) {\n    $pdo = getDbConnection();\n    \n    if ($pdo !== null) {\n        try {\n            $sql = \"SELECT id, name, slug, description, long_description, featured_image, \n                           category, region, altitude_range, best_time_to_visit, duration, \n                           difficulty_level, highlights, activities, location_coordinates,\n                           entry_permits_required, accommodation_available, transportation_info,\n                           featured, published, meta_title, meta_description,\n                           EXTRACT(EPOCH FROM created_at) as created_at,\n                           EXTRACT(EPOCH FROM updated_at) as updated_at\n                    FROM destinations WHERE slug = ? LIMIT 1\";\n            \n            $stmt = $pdo->prepare($sql);\n            $stmt->execute([$slug]);\n            $destination = $stmt->fetch();\n            \n            if ($destination) {\n                // Convert JSON fields back to arrays and timestamps to integers\n                $destination['highlights'] = json_decode($destination['highlights'], true) ?: [];\n                $destination['activities'] = json_decode($destination['activities'], true) ?: [];\n                $destination['created_at'] = (int)$destination['created_at'];\n                $destination['updated_at'] = (int)$destination['updated_at'];\n                $destination['featured'] = (bool)$destination['featured'];\n                $destination['published'] = (bool)$destination['published'];\n                $destination['entry_permits_required'] = (bool)$destination['entry_permits_required'];\n                $destination['accommodation_available'] = (bool)$destination['accommodation_available'];\n            }\n            \n            return $destination;\n        } catch (Exception $e) {\n            error_log('Database query error: ' . $e->getMessage());\n        }\n    }\n    \n    return null;\n}\n\n/**\n * Save destination to database\n */\nfunction saveDestination($data) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        // Convert arrays to JSON\n        $highlights = isset($data['highlights']) ? json_encode($data['highlights']) : '[]';\n        $activities = isset($data['activities']) ? json_encode($data['activities']) : '[]';\n        \n        // Check if this is an update or insert\n        if (isset($data['slug']) && !empty($data['slug'])) {\n            // Update existing destination\n            $sql = \"UPDATE destinations SET \n                        name = ?, description = ?, long_description = ?, featured_image = ?,\n                        category = ?, region = ?, altitude_range = ?, best_time_to_visit = ?,\n                        duration = ?, difficulty_level = ?, highlights = ?, activities = ?,\n                        location_coordinates = ?, entry_permits_required = ?, accommodation_available = ?,\n                        transportation_info = ?, featured = ?, published = ?,\n                        meta_title = ?, meta_description = ?, updated_at = CURRENT_TIMESTAMP\n                    WHERE slug = ?\";\n            \n            $params = [\n                $data['name'],\n                $data['description'] ?? '',\n                $data['long_description'] ?? '',\n                $data['featured_image'] ?? '',\n                $data['category'] ?? '',\n                $data['region'] ?? '',\n                $data['altitude_range'] ?? '',\n                $data['best_time_to_visit'] ?? '',\n                $data['duration'] ?? '',\n                $data['difficulty_level'] ?? '',\n                $highlights,\n                $activities,\n                $data['location_coordinates'] ?? '',\n                isset($data['entry_permits_required']) ? (bool)$data['entry_permits_required'] : false,\n                isset($data['accommodation_available']) ? (bool)$data['accommodation_available'] : true,\n                $data['transportation_info'] ?? '',\n                isset($data['featured']) ? (bool)$data['featured'] : false,\n                isset($data['published']) ? (bool)$data['published'] : true,\n                $data['meta_title'] ?? $data['name'],\n                $data['meta_description'] ?? $data['description'],\n                $data['slug']\n            ];\n        } else {\n            // Insert new destination\n            $slug = generateSlug($data['name']);\n            $sql = \"INSERT INTO destinations (name, slug, description, long_description, featured_image,\n                        category, region, altitude_range, best_time_to_visit, duration, difficulty_level,\n                        highlights, activities, location_coordinates, entry_permits_required,\n                        accommodation_available, transportation_info, featured, published,\n                        meta_title, meta_description)\n                    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\";\n            \n            $params = [\n                $data['name'],\n                $slug,\n                $data['description'] ?? '',\n                $data['long_description'] ?? '',\n                $data['featured_image'] ?? '',\n                $data['category'] ?? '',\n                $data['region'] ?? '',\n                $data['altitude_range'] ?? '',\n                $data['best_time_to_visit'] ?? '',\n                $data['duration'] ?? '',\n                $data['difficulty_level'] ?? '',\n                $highlights,\n                $activities,\n                $data['location_coordinates'] ?? '',\n                isset($data['entry_permits_required']) ? (bool)$data['entry_permits_required'] : false,\n                isset($data['accommodation_available']) ? (bool)$data['accommodation_available'] : true,\n                $data['transportation_info'] ?? '',\n                isset($data['featured']) ? (bool)$data['featured'] : false,\n                isset($data['published']) ? (bool)$data['published'] : true,\n                $data['meta_title'] ?? $data['name'],\n                $data['meta_description'] ?? $data['description']\n            ];\n        }\n        \n        $stmt = $pdo->prepare($sql);\n        return $stmt->execute($params);\n        \n    } catch (Exception $e) {\n        error_log('Failed to save destination: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Delete destination\n */\nfunction deleteDestination($slug) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        $stmt = $pdo->prepare(\"DELETE FROM destinations WHERE slug = ?\");\n        return $stmt->execute([$slug]);\n    } catch (Exception $e) {\n        error_log('Failed to delete destination: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Get destination categories\n */\nfunction getDestinationCategories() {\n    return [\n        'Trekking',\n        'Cultural',\n        'Wildlife',\n        'Pilgrimage',\n        'Adventure',\n        'Photography',\n        'Spiritual',\n        'Heritage'\n    ];\n}\n\n/**\n * Get destination regions\n */\nfunction getDestinationRegions() {\n    return [\n        'Everest Region',\n        'Annapurna Region',\n        'Langtang Region',\n        'Kathmandu Valley',\n        'Pokhara Valley',\n        'Terai Plains',\n        'Western Nepal',\n        'Eastern Nepal',\n        'Far Western Nepal'\n    ];\n}\n\n/**\n * Get difficulty levels\n */\nfunction getDifficultyLevels() {\n    return [\n        'Easy',\n        'Moderate',\n        'Challenging',\n        'Difficult',\n        'Expert'\n    ];\n}\n\n/**\n * Load images for a specific post\n */\nfunction loadPostImages($postId) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return [];\n    }\n    \n    try {\n        $sql = \"SELECT id, image_url, alt_text, sort_order, \n                       EXTRACT(EPOCH FROM created_at) as created_at \n                FROM post_images \n                WHERE post_id = ? \n                ORDER BY sort_order ASC, created_at ASC\";\n        \n        $stmt = $pdo->prepare($sql);\n        $stmt->execute([$postId]);\n        $images = $stmt->fetchAll();\n        \n        // Convert timestamps to integers\n        foreach ($images as &$image) {\n            $image['created_at'] = (int)$image['created_at'];\n        }\n        \n        return $images;\n    } catch (Exception $e) {\n        error_log('Failed to load post images: ' . $e->getMessage());\n        return [];\n    }\n}\n\n/**\n * Save multiple images for a post\n */\nfunction savePostImages($postId, $images) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null || empty($images)) {\n        return false;\n    }\n    \n    try {\n        $sql = \"INSERT INTO post_images (post_id, image_url, alt_text, sort_order) \n                VALUES (?, ?, ?, ?)\";\n        $stmt = $pdo->prepare($sql);\n        \n        foreach ($images as $index => $image) {\n            $stmt->execute([\n                $postId,\n                $image['url'],\n                $image['alt_text'] ?? '',\n                $index + 1\n            ]);\n        }\n        \n        return true;\n    } catch (Exception $e) {\n        error_log('Failed to save post images: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Delete all images for a post\n */\nfunction deletePostImages($postId) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        // Get image URLs before deleting to clean up files\n        $images = loadPostImages($postId);\n        \n        // Delete from database\n        $stmt = $pdo->prepare(\"DELETE FROM post_images WHERE post_id = ?\");\n        $result = $stmt->execute([$postId]);\n        \n        // Clean up image files\n        if ($result) {\n            foreach ($images as $image) {\n                $filePath = BASE_PATH . $image['image_url'];\n                if (file_exists($filePath)) {\n                    unlink($filePath);\n                }\n            }\n        }\n        \n        return $result;\n    } catch (Exception $e) {\n        error_log('Failed to delete post images: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Delete a specific image\n */\nfunction deletePostImage($imageId) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return false;\n    }\n    \n    try {\n        // Get image details before deleting\n        $stmt = $pdo->prepare(\"SELECT image_url FROM post_images WHERE id = ?\");\n        $stmt->execute([$imageId]);\n        $image = $stmt->fetch();\n        \n        if (!$image) {\n            return false;\n        }\n        \n        // Delete from database\n        $stmt = $pdo->prepare(\"DELETE FROM post_images WHERE id = ?\");\n        $result = $stmt->execute([$imageId]);\n        \n        // Clean up file\n        if ($result) {\n            $filePath = BASE_PATH . $image['image_url'];\n            if (file_exists($filePath)) {\n                unlink($filePath);\n            }\n        }\n        \n        return $result;\n    } catch (Exception $e) {\n        error_log('Failed to delete post image: ' . $e->getMessage());\n        return false;\n    }\n}\n\n/**\n * Handle multiple file uploads\n */\nfunction handleMultipleFileUploads($files) {\n    if (empty($files['name'][0])) {\n        return ['success' => true, 'images' => []]; // No files uploaded is okay\n    }\n    \n    $uploadedImages = [];\n    $errors = [];\n    \n    // Process each uploaded file\n    for ($i = 0; $i < count($files['name']); $i++) {\n        // Skip empty file slots\n        if (empty($files['name'][$i])) {\n            continue;\n        }\n        \n        // Create individual file array for handleFileUpload\n        $file = [\n            'name' => $files['name'][$i],\n            'type' => $files['type'][$i],\n            'tmp_name' => $files['tmp_name'][$i],\n            'error' => $files['error'][$i],\n            'size' => $files['size'][$i]\n        ];\n        \n        $result = handleFileUpload($file);\n        \n        if ($result['success']) {\n            $uploadedImages[] = [\n                'url' => $result['url'],\n                'filename' => $result['filename'],\n                'alt_text' => ''  // Can be filled later\n            ];\n        } else {\n            $errors[] = \"Error uploading {$files['name'][$i]}: \" . $result['error'];\n        }\n    }\n    \n    if (!empty($errors) && empty($uploadedImages)) {\n        return ['success' => false, 'error' => implode('; ', $errors)];\n    }\n    \n    return [\n        'success' => true, \n        'images' => $uploadedImages,\n        'partial_errors' => $errors\n    ];\n}\n\n/**\n * Get post ID from slug\n */\nfunction getPostIdFromSlug($slug) {\n    $pdo = getDbConnection();\n    \n    if ($pdo === null) {\n        return null;\n    }\n    \n    try {\n        $stmt = $pdo->prepare(\"SELECT id FROM posts WHERE slug = ?\");\n        $stmt->execute([$slug]);\n        $result = $stmt->fetch();\n        \n        return $result ? $result['id'] : null;\n    } catch (Exception $e) {\n        error_log('Failed to get post ID: ' . $e->getMessage());\n        return null;\n    }\n}\n?>","size_bytes":36929},"includes/router.php":{"content":"<?php\n// travelNepal Simple Router\n\nclass Router {\n    private $routes = [];\n    \n    public function get($path, $callback) {\n        $this->routes['GET'][$path] = $callback;\n    }\n    \n    public function post($path, $callback) {\n        $this->routes['POST'][$path] = $callback;\n    }\n    \n    public function run() {\n        $method = $_SERVER['REQUEST_METHOD'];\n        $path = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);\n        \n        // Remove trailing slash except for root\n        if ($path !== '/' && substr($path, -1) === '/') {\n            $path = rtrim($path, '/');\n        }\n        \n        if (isset($this->routes[$method][$path])) {\n            $callback = $this->routes[$method][$path];\n            if (is_callable($callback)) {\n                return call_user_func($callback);\n            }\n        }\n        \n        // Check for dynamic routes (blog posts)\n        foreach ($this->routes[$method] ?? [] as $route => $callback) {\n            if (strpos($route, '{') !== false) {\n                $pattern = preg_replace('/\\{[^}]+\\}/', '([^/]+)', $route);\n                $pattern = '#^' . $pattern . '$#';\n                \n                if (preg_match($pattern, $path, $matches)) {\n                    array_shift($matches); // Remove full match\n                    return call_user_func_array($callback, $matches);\n                }\n            }\n        }\n        \n        // 404 Not Found\n        http_response_code(404);\n        include 'templates/404.php';\n    }\n}\n?>","size_bytes":1502},"templates/404.php":{"content":"<?php\n$page_title = '404 - Page Not Found';\n$content = ob_get_clean();\nob_start();\n?>\n\n<div class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-nepal-50 to-mountain-100\">\n    <div class=\"text-center px-4\">\n        <div class=\"mb-8 animate-fade-in-down\">\n            <i class=\"fas fa-mountain text-nepal-500 text-8xl mb-6\"></i>\n            <h1 class=\"text-6xl font-display font-bold text-mountain-800 mb-4\">404</h1>\n            <h2 class=\"text-2xl font-semibold text-mountain-700 mb-6\">Page Not Found</h2>\n            <p class=\"text-mountain-600 text-lg mb-8 max-w-md mx-auto\">\n                Looks like you've wandered off the beaten path. The page you're looking for doesn't exist in our Himalayan adventure.\n            </p>\n        </div>\n        \n        <div class=\"space-x-4 animate-fade-in-up\">\n            <a href=\"/\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg inline-flex items-center\">\n                <i class=\"fas fa-home mr-2\"></i>\n                Back to Home\n            </a>\n            <a href=\"/blog\" class=\"bg-white text-nepal-600 border-2 border-nepal-500 hover:bg-nepal-500 hover:text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 inline-flex items-center\">\n                <i class=\"fas fa-compass mr-2\"></i>\n                Explore Blog\n            </a>\n        </div>\n        \n        <!-- Decorative Elements -->\n        <div class=\"mt-16 opacity-20\">\n            <div class=\"flex justify-center space-x-8 text-nepal-300\">\n                <i class=\"fas fa-mountain text-4xl\"></i>\n                <i class=\"fas fa-hiking text-3xl mt-2\"></i>\n                <i class=\"fas fa-camera text-3xl mt-1\"></i>\n                <i class=\"fas fa-map text-3xl mt-2\"></i>\n                <i class=\"fas fa-mountain text-4xl\"></i>\n            </div>\n        </div>\n    </div>\n</div>\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude 'layout.php';\n?>","size_bytes":2121},"templates/home.php":{"content":"<?php\n$page_title = 'Discover Nepal - Your Ultimate Himalayan Adventure';\n$page_description = 'Explore Nepal\\'s breathtaking landscapes, rich culture, and incredible adventures. From Everest Base Camp to Kathmandu\\'s ancient temples, discover your perfect Himalayan journey.';\n\nob_start();\n?>\n\n<!-- Hero Section -->\n<section class=\"relative h-screen flex items-center justify-center overflow-hidden\">\n    <!-- Background Image -->\n    <div class=\"absolute inset-0 z-0\">\n        <img src=\"/assets/images/Everest_sunrise_panorama_20949daa.png\" \n             alt=\"Mount Everest Sunrise\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-hero-pattern\"></div>\n    </div>\n    \n    <!-- Hero Content -->\n    <div class=\"relative z-10 text-center text-white px-4 max-w-5xl mx-auto animate-fade-in-up\">\n        <h1 class=\"text-5xl md:text-7xl font-display font-bold mb-6 leading-tight\">\n            Discover the <br><span class=\"text-yellow-300\">Soul of Nepal</span>\n        </h1>\n        <p class=\"text-xl md:text-2xl mb-8 max-w-3xl mx-auto font-light\">\n            Journey through the breathtaking Himalayas, explore ancient cultural treasures, \n            and experience adventure like nowhere else on Earth.\n        </p>\n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center items-center\">\n            <a href=\"/blog\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg inline-flex items-center\">\n                <i class=\"fas fa-compass mr-3\"></i>\n                Explore Adventures\n            </a>\n            <a href=\"#destinations\" class=\"bg-white text-nepal-600 border-2 border-nepal-500 hover:bg-nepal-500 hover:text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 inline-flex items-center\">\n                <i class=\"fas fa-mountain mr-3\"></i>\n                Discover Destinations\n            </a>\n        </div>\n    </div>\n    \n    <!-- Scroll Indicator -->\n    <div class=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce\">\n        <i class=\"fas fa-chevron-down text-2xl\"></i>\n    </div>\n</section>\n\n<!-- Featured Destinations Section -->\n<section id=\"destinations\" class=\"py-20 bg-gradient-to-b from-gray-50 to-white\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-16 animate-on-scroll\">\n            <h2 class=\"text-4xl md:text-5xl font-display font-bold text-mountain-800 mb-6\">\n                Iconic <span class=\"text-gradient\">Destinations</span>\n            </h2>\n            <p class=\"text-xl text-mountain-600 max-w-3xl mx-auto\">\n                From towering peaks to ancient temples, Nepal offers experiences that will transform your perspective on adventure and spirituality.\n            </p>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <!-- Everest Base Camp -->\n            <div class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden animate-on-scroll\">\n                <div class=\"relative h-64\">\n                    <img src=\"/assets/images/Everest_sunrise_panorama_20949daa.png\" \n                         alt=\"Everest Base Camp\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                    <div class=\"absolute bottom-4 left-4 text-white\">\n                        <span class=\"bg-nepal-500 px-3 py-1 rounded-full text-sm font-medium\">Trekking</span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <h3 class=\"text-2xl font-bold text-mountain-800 mb-3\">Everest Base Camp</h3>\n                    <p class=\"text-mountain-600 mb-4\">\n                        Trek to the base of the world's highest peak and experience the legendary Himalayan adventure.\n                    </p>\n                    <div class=\"flex items-center justify-between\">\n                        <div class=\"flex items-center text-nepal-500\">\n                            <i class=\"fas fa-clock mr-2\"></i>\n                            <span class=\"text-sm\">14-16 days</span>\n                        </div>\n                        <a href=\"/blog/ultimate-everest-base-camp-guide-1727089200\" class=\"text-nepal-600 hover:text-nepal-700 font-semibold\">\n                            Learn More <i class=\"fas fa-arrow-right ml-2\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Kathmandu Valley -->\n            <div class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden animate-on-scroll\">\n                <div class=\"relative h-64\">\n                    <img src=\"/assets/images/Kathmandu_temple_architecture_df1e8ace.png\" \n                         alt=\"Kathmandu Temples\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                    <div class=\"absolute bottom-4 left-4 text-white\">\n                        <span class=\"bg-purple-500 px-3 py-1 rounded-full text-sm font-medium\">Culture</span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <h3 class=\"text-2xl font-bold text-mountain-800 mb-3\">Kathmandu Valley</h3>\n                    <p class=\"text-mountain-600 mb-4\">\n                        Explore UNESCO World Heritage sites and immerse yourself in ancient Nepalese culture.\n                    </p>\n                    <div class=\"flex items-center justify-between\">\n                        <div class=\"flex items-center text-nepal-500\">\n                            <i class=\"fas fa-landmark mr-2\"></i>\n                            <span class=\"text-sm\">7 UNESCO Sites</span>\n                        </div>\n                        <a href=\"/blog/kathmandu-cultural-treasures-1727002800\" class=\"text-nepal-600 hover:text-nepal-700 font-semibold\">\n                            Learn More <i class=\"fas fa-arrow-right ml-2\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Pokhara -->\n            <div class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden animate-on-scroll\">\n                <div class=\"relative h-64\">\n                    <img src=\"/assets/images/Pokhara_lake_reflections_ada62be7.png\" \n                         alt=\"Pokhara Lake\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                    <div class=\"absolute bottom-4 left-4 text-white\">\n                        <span class=\"bg-blue-500 px-3 py-1 rounded-full text-sm font-medium\">Adventure</span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <h3 class=\"text-2xl font-bold text-mountain-800 mb-3\">Pokhara</h3>\n                    <p class=\"text-mountain-600 mb-4\">\n                        Nepal's adventure capital offering paragliding, boating, and stunning Annapurna views.\n                    </p>\n                    <div class=\"flex items-center justify-between\">\n                        <div class=\"flex items-center text-nepal-500\">\n                            <i class=\"fas fa-parachute-box mr-2\"></i>\n                            <span class=\"text-sm\">Adventure Hub</span>\n                        </div>\n                        <a href=\"/blog/pokhara-adventure-paradise-1726916400\" class=\"text-nepal-600 hover:text-nepal-700 font-semibold\">\n                            Learn More <i class=\"fas fa-arrow-right ml-2\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- Featured Blog Posts Section -->\n<section class=\"py-20 bg-white\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center mb-16 animate-on-scroll\">\n            <div>\n                <h2 class=\"text-4xl md:text-5xl font-display font-bold text-mountain-800 mb-4\">\n                    Latest <span class=\"text-gradient\">Adventures</span>\n                </h2>\n                <p class=\"text-xl text-mountain-600\">\n                    Discover insider tips, stunning photography, and inspiring travel stories from Nepal.\n                </p>\n            </div>\n            <a href=\"/blog\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg hidden sm:inline-flex items-center\">\n                <i class=\"fas fa-blog mr-2\"></i>\n                View All Posts\n            </a>\n        </div>\n        \n        <?php if (!empty($featured_posts)): ?>\n        <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <?php foreach ($featured_posts as $index => $post): ?>\n            <article class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden animate-on-scroll\">\n                <div class=\"relative h-48\">\n                    <img src=\"<?php echo htmlspecialchars($post['featured_image']); ?>\" \n                         alt=\"<?php echo htmlspecialchars($post['title']); ?>\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute top-4 left-4\">\n                        <span class=\"bg-nepal-500 text-white px-3 py-1 rounded-full text-sm font-medium\">\n                            <?php echo htmlspecialchars($post['category']); ?>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <div class=\"flex items-center text-mountain-500 text-sm mb-3\">\n                        <i class=\"fas fa-calendar-alt mr-2\"></i>\n                        <span><?php echo formatDate($post['created_at']); ?></span>\n                        <i class=\"fas fa-clock ml-4 mr-2\"></i>\n                        <span>5 min read</span>\n                    </div>\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3 leading-tight\">\n                        <a href=\"/blog/<?php echo htmlspecialchars($post['slug']); ?>\" class=\"hover:text-nepal-600 transition-colors\">\n                            <?php echo htmlspecialchars($post['title']); ?>\n                        </a>\n                    </h3>\n                    <p class=\"text-mountain-600 mb-4\">\n                        <?php echo htmlspecialchars(truncateText($post['excerpt'], 120)); ?>\n                    </p>\n                    <div class=\"flex items-center justify-between\">\n                        <div class=\"flex flex-wrap gap-2\">\n                            <?php foreach (array_slice($post['tags'], 0, 2) as $tag): ?>\n                            <span class=\"bg-mountain-100 text-mountain-700 px-2 py-1 rounded text-xs\">\n                                #<?php echo htmlspecialchars($tag); ?>\n                            </span>\n                            <?php endforeach; ?>\n                        </div>\n                        <a href=\"/blog/<?php echo htmlspecialchars($post['slug']); ?>\" \n                           class=\"text-nepal-600 hover:text-nepal-700 font-semibold text-sm\">\n                            Read More <i class=\"fas fa-arrow-right ml-1\"></i>\n                        </a>\n                    </div>\n                </div>\n            </article>\n            <?php endforeach; ?>\n        </div>\n        <?php else: ?>\n        <div class=\"text-center py-12\">\n            <i class=\"fas fa-mountain text-mountain-300 text-6xl mb-4\"></i>\n            <p class=\"text-mountain-500 text-xl\">No blog posts available yet. Check back soon!</p>\n        </div>\n        <?php endif; ?>\n        \n        <div class=\"text-center mt-12 sm:hidden\">\n            <a href=\"/blog\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg inline-flex items-center\">\n                <i class=\"fas fa-blog mr-2\"></i>\n                View All Posts\n            </a>\n        </div>\n    </div>\n</section>\n\n<!-- Call to Action Section -->\n<section class=\"py-20 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center animate-on-scroll\">\n        <h2 class=\"text-4xl md:text-5xl font-display font-bold mb-6\">\n            Ready for Your Nepal Adventure?\n        </h2>\n        <p class=\"text-xl mb-8 opacity-90\">\n            Join thousands of travelers who have discovered the magic of Nepal. \n            Start planning your journey to the roof of the world today.\n        </p>\n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a href=\"/blog\" class=\"bg-white text-nepal-600 hover:text-nepal-700 font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1\">\n                <i class=\"fas fa-book-open mr-2\"></i>\n                Read Travel Guides\n            </a>\n            <a href=\"/contact\" class=\"border-2 border-white hover:bg-white hover:text-nepal-600 font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1\">\n                <i class=\"fas fa-envelope mr-2\"></i>\n                Plan Your Trip\n            </a>\n        </div>\n    </div>\n</section>\n\n<!-- Newsletter Section -->\n<section class=\"py-16 bg-mountain-50\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center animate-on-scroll\">\n        <div class=\"bg-white rounded-2xl shadow-lg p-8\">\n            <h3 class=\"text-3xl font-display font-bold text-mountain-800 mb-4\">\n                Never Miss an Adventure\n            </h3>\n            <p class=\"text-mountain-600 mb-6\">\n                Subscribe to our newsletter for the latest travel tips, destination guides, and exclusive Nepal travel insights.\n            </p>\n            <form class=\"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto\" onsubmit=\"handleNewsletterSubmit(event)\">\n                <input type=\"email\" \n                       placeholder=\"Enter your email\" \n                       required\n                       class=\"flex-1 px-4 py-3 border border-mountain-200 rounded-full focus:outline-none focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                <button type=\"submit\" \n                        class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg whitespace-nowrap\">\n                    <i class=\"fas fa-paper-plane mr-2\"></i>\n                    Subscribe\n                </button>\n            </form>\n        </div>\n    </div>\n</section>\n\n<script>\nfunction handleNewsletterSubmit(event) {\n    event.preventDefault();\n    const email = event.target.querySelector('input[type=\"email\"]').value;\n    showNotification('Thanks for subscribing! We\\'ll keep you updated on Nepal adventures.', 'success');\n    event.target.reset();\n}\n</script>\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude 'layout.php';\n?>","size_bytes":15582},"templates/layout.php":{"content":"<!DOCTYPE html>\n<html lang=\"en\" class=\"scroll-smooth\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title><?php echo isset($page_title) ? $page_title . ' - ' . SITE_NAME : SITE_NAME . ' - ' . SITE_DESCRIPTION; ?></title>\n    <meta name=\"description\" content=\"<?php echo isset($page_description) ? $page_description : SITE_DESCRIPTION; ?>\">\n    \n    <!-- Favicon -->\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/assets/favicon.svg\">\n    \n    <!-- Tailwind CSS -->\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <script>\n        tailwind.config = {\n            theme: {\n                extend: {\n                    colors: {\n                        nepal: {\n                            50: '#fef7f0',\n                            100: '#fdede1',\n                            200: '#fad8be',\n                            300: '#f6bb91',\n                            400: '#f19162',\n                            500: '#ed703f',\n                            600: '#de5429',\n                            700: '#b93f1f',\n                            800: '#93361e',\n                            900: '#762f1c'\n                        },\n                        mountain: {\n                            50: '#f8fafc',\n                            100: '#f1f5f9',\n                            200: '#e2e8f0',\n                            300: '#cbd5e1',\n                            400: '#94a3b8',\n                            500: '#64748b',\n                            600: '#475569',\n                            700: '#334155',\n                            800: '#1e293b',\n                            900: '#0f172a'\n                        }\n                    },\n                    fontFamily: {\n                        'display': ['Playfair Display', 'serif'],\n                        'sans': ['Inter', 'sans-serif']\n                    },\n                    animation: {\n                        'fade-in-up': 'fadeInUp 0.6s ease-out',\n                        'fade-in-down': 'fadeInDown 0.6s ease-out',\n                        'slide-in-right': 'slideInRight 0.6s ease-out'\n                    },\n                    keyframes: {\n                        fadeInUp: {\n                            '0%': { opacity: '0', transform: 'translateY(30px)' },\n                            '100%': { opacity: '1', transform: 'translateY(0)' }\n                        },\n                        fadeInDown: {\n                            '0%': { opacity: '0', transform: 'translateY(-30px)' },\n                            '100%': { opacity: '1', transform: 'translateY(0)' }\n                        },\n                        slideInRight: {\n                            '0%': { opacity: '0', transform: 'translateX(30px)' },\n                            '100%': { opacity: '1', transform: 'translateX(0)' }\n                        }\n                    }\n                }\n            }\n        }\n    </script>\n    \n    <!-- Google Fonts -->\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\n    \n    <!-- Font Awesome for Icons -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    \n    <!-- Leaflet CSS for Maps -->\n    <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n    \n    <style>\n        .bg-hero-pattern {\n            background-image: linear-gradient(135deg, rgba(237, 112, 63, 0.9) 0%, rgba(185, 63, 31, 0.9) 100%);\n        }\n        \n        .text-gradient {\n            background: linear-gradient(135deg, #ed703f 0%, #b93f1f 100%);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            background-clip: text;\n        }\n        \n        .card-hover {\n            transition: all 0.3s ease;\n        }\n        \n        .card-hover:hover {\n            transform: translateY(-8px);\n            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n        }\n        \n        /* Nepal Map Styling */\n        .custom-nepal-marker {\n            background: transparent;\n            border: none;\n        }\n        \n        .custom-nepal-marker .marker-pin {\n            width: 30px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: linear-gradient(135deg, #ed703f 0%, #b93f1f 100%);\n            border-radius: 50% 50% 50% 0;\n            transform: rotate(-45deg);\n            border: 3px solid white;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        }\n        \n        .custom-nepal-marker .marker-pin i {\n            color: white;\n            font-size: 16px;\n            transform: rotate(45deg);\n        }\n        \n        .leaflet-popup-content-wrapper {\n            background: white;\n            border-radius: 12px;\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n            border: 1px solid #e2e8f0;\n        }\n        \n        .leaflet-popup-content {\n            margin: 0;\n            padding: 16px;\n            line-height: 1.5;\n        }\n        \n        .custom-popup .map-popup h4 {\n            color: #1e293b;\n            font-weight: 700;\n            margin-bottom: 8px;\n            font-size: 16px;\n        }\n        \n        .custom-popup .map-popup p {\n            color: #475569;\n            margin-bottom: 8px;\n            font-size: 14px;\n        }\n        \n        .leaflet-popup-tip {\n            background: white;\n            border: 1px solid #e2e8f0;\n        }\n        \n        /* Map container responsive styling */\n        #nepal-map {\n            transition: opacity 0.3s ease;\n        }\n        \n        @media (max-width: 768px) {\n            .custom-nepal-marker .marker-pin {\n                width: 25px;\n                height: 25px;\n            }\n            \n            .custom-nepal-marker .marker-pin i {\n                font-size: 14px;\n            }\n            \n            .leaflet-popup-content {\n                padding: 12px;\n            }\n        }\n        \n    </style>\n</head>\n\n<body class=\"bg-gray-50 font-sans\">\n    <!-- Navigation -->\n    <?php include __DIR__ . '/components/navbar.php'; ?>\n    \n    <!-- Main Content -->\n    <main class=\"min-h-screen\">\n        <?php echo $content; ?>\n    </main>\n    \n    <!-- Footer -->\n    <?php include __DIR__ . '/components/footer.php'; ?>\n    \n    <!-- JavaScript -->\n    <script src=\"/assets/js/main.js\"></script>\n    \n    <!-- Leaflet JavaScript for Maps -->\n    <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n</body>\n</html>","size_bytes":6863},"assets/js/main.js":{"content":"// travelNepal - Main JavaScript File\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Mobile Menu Toggle\n    initMobileMenu();\n    \n    // Smooth Scrolling\n    initSmoothScrolling();\n    \n    // Scroll Animations\n    initScrollAnimations();\n    \n    // Navbar Scroll Effect\n    initNavbarScrollEffect();\n    \n    // Image Lazy Loading\n    initLazyLoading();\n    \n    // Form Enhancements\n    initFormEnhancements();\n});\n\n// Mobile Menu Toggle\nfunction initMobileMenu() {\n    const mobileMenuButton = document.querySelector('.mobile-menu-button');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    \n    if (mobileMenuButton && mobileMenu) {\n        mobileMenuButton.addEventListener('click', function() {\n            mobileMenu.classList.toggle('hidden');\n            \n            // Toggle button icon\n            const icon = this.querySelector('svg path');\n            if (mobileMenu.classList.contains('hidden')) {\n                icon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');\n            } else {\n                icon.setAttribute('d', 'M6 18L18 6M6 6l12 12');\n            }\n        });\n        \n        // Close menu when clicking outside\n        document.addEventListener('click', function(e) {\n            if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {\n                mobileMenu.classList.add('hidden');\n                const icon = mobileMenuButton.querySelector('svg path');\n                icon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');\n            }\n        });\n    }\n}\n\n// Smooth Scrolling for Anchor Links\nfunction initSmoothScrolling() {\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                target.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n        });\n    });\n}\n\n// Scroll Animations\nfunction initScrollAnimations() {\n    const observerOptions = {\n        threshold: 0.1,\n        rootMargin: '0px 0px -50px 0px'\n    };\n    \n    const observer = new IntersectionObserver(function(entries) {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('animate-fade-in-up');\n                observer.unobserve(entry.target);\n            }\n        });\n    }, observerOptions);\n    \n    // Observe elements for animation\n    document.querySelectorAll('.animate-on-scroll').forEach(el => {\n        observer.observe(el);\n    });\n}\n\n// Navbar Scroll Effect\nfunction initNavbarScrollEffect() {\n    const navbar = document.getElementById('navbar');\n    let lastScrollY = window.scrollY;\n    \n    window.addEventListener('scroll', function() {\n        const currentScrollY = window.scrollY;\n        \n        if (currentScrollY > 100) {\n            navbar.classList.add('bg-white/95', 'backdrop-blur-sm');\n        } else {\n            navbar.classList.remove('bg-white/95', 'backdrop-blur-sm');\n        }\n        \n        // Hide/Show navbar on scroll\n        if (currentScrollY > lastScrollY && currentScrollY > 300) {\n            navbar.style.transform = 'translateY(-100%)';\n        } else {\n            navbar.style.transform = 'translateY(0)';\n        }\n        \n        navbar.style.transition = 'transform 0.3s ease-in-out';\n        lastScrollY = currentScrollY;\n    });\n}\n\n// Lazy Loading for Images\nfunction initLazyLoading() {\n    const images = document.querySelectorAll('img[data-src]');\n    \n    const imageObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                const img = entry.target;\n                img.src = img.dataset.src;\n                img.classList.remove('opacity-0');\n                img.classList.add('opacity-100');\n                observer.unobserve(img);\n            }\n        });\n    });\n    \n    images.forEach(img => imageObserver.observe(img));\n}\n\n// Form Enhancements\nfunction initFormEnhancements() {\n    // Add floating label effect\n    const inputs = document.querySelectorAll('input[type=\"text\"], input[type=\"email\"], textarea');\n    \n    inputs.forEach(input => {\n        // Add focus and blur events for floating labels\n        input.addEventListener('focus', function() {\n            this.parentElement.classList.add('focused');\n        });\n        \n        input.addEventListener('blur', function() {\n            if (!this.value) {\n                this.parentElement.classList.remove('focused');\n            }\n        });\n        \n        // Check if input has value on load\n        if (input.value) {\n            input.parentElement.classList.add('focused');\n        }\n    });\n}\n\n// Utility Functions\nfunction showNotification(message, type = 'info') {\n    const notification = document.createElement('div');\n    notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium transform translate-x-full transition-transform duration-300`;\n    \n    switch(type) {\n        case 'success':\n            notification.classList.add('bg-green-500');\n            break;\n        case 'error':\n            notification.classList.add('bg-red-500');\n            break;\n        case 'warning':\n            notification.classList.add('bg-yellow-500');\n            break;\n        default:\n            notification.classList.add('bg-blue-500');\n    }\n    \n    notification.textContent = message;\n    document.body.appendChild(notification);\n    \n    // Show notification\n    setTimeout(() => {\n        notification.style.transform = 'translateX(0)';\n    }, 100);\n    \n    // Hide notification\n    setTimeout(() => {\n        notification.style.transform = 'translateX(100%)';\n        setTimeout(() => {\n            document.body.removeChild(notification);\n        }, 300);\n    }, 3000);\n}\n\n// Add hover effects to cards\ndocument.addEventListener('mouseover', function(e) {\n    if (e.target.classList.contains('card-hover') || e.target.closest('.card-hover')) {\n        const card = e.target.classList.contains('card-hover') ? e.target : e.target.closest('.card-hover');\n        card.style.transform = 'translateY(-8px)';\n    }\n});\n\ndocument.addEventListener('mouseout', function(e) {\n    if (e.target.classList.contains('card-hover') || e.target.closest('.card-hover')) {\n        const card = e.target.classList.contains('card-hover') ? e.target : e.target.closest('.card-hover');\n        card.style.transform = 'translateY(0)';\n    }\n});\n\n// Loading animation for forms\nfunction showLoading(button) {\n    const originalText = button.innerHTML;\n    button.innerHTML = '<i class=\"fas fa-spinner fa-spin mr-2\"></i>Loading...';\n    button.disabled = true;\n    \n    return function() {\n        button.innerHTML = originalText;\n        button.disabled = false;\n    };\n}","size_bytes":6964},"templates/admin/dashboard.php":{"content":"<?php\n$page_title = 'Admin Dashboard - travelNepal';\n$page_description = 'Manage your Nepal travel blog posts and content.';\n\n// Defensive coding to prevent undefined variable warnings\n$posts = $posts ?? [];\n\nob_start();\n?>\n\n<!-- Include Admin Sidebar -->\n<?php include __DIR__ . '/../components/admin-sidebar.php'; ?>\n\n<!-- Main Content Area (with sidebar padding) -->\n<div class=\"lg:ml-64\">\n\n<!-- Dashboard Header -->\n<div class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div class=\"flex justify-between items-center\">\n            <div class=\"animate-fade-in-down\">\n                <h1 class=\"text-3xl font-display font-bold mb-2\">Admin Dashboard</h1>\n                <p class=\"opacity-90\">Manage your Nepal travel content</p>\n            </div>\n            <div class=\"animate-fade-in-up\">\n                <div class=\"flex space-x-4\">\n                    <a href=\"/admin/post/create\" class=\"bg-white text-nepal-600 hover:text-nepal-700 px-6 py-3 rounded-lg font-semibold transition-colors inline-flex items-center\">\n                        <i class=\"fas fa-plus mr-2\"></i>\n                        New Post\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Dashboard Stats -->\n<div class=\"bg-white border-b border-mountain-200\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div class=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 animate-on-scroll\">\n                <div class=\"flex items-center justify-between\">\n                    <div>\n                        <p class=\"text-blue-600 text-sm font-medium\">Total Posts</p>\n                        <p class=\"text-2xl font-bold text-blue-800\"><?php echo count($posts); ?></p>\n                    </div>\n                    <div class=\"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center\">\n                        <i class=\"fas fa-file-alt text-white\"></i>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 animate-on-scroll\">\n                <div class=\"flex items-center justify-between\">\n                    <div>\n                        <p class=\"text-green-600 text-sm font-medium\">Published</p>\n                        <p class=\"text-2xl font-bold text-green-800\">\n                            <?php echo count(array_filter($posts, function($p) { return $p['published']; })); ?>\n                        </p>\n                    </div>\n                    <div class=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center\">\n                        <i class=\"fas fa-check-circle text-white\"></i>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-2xl p-6 animate-on-scroll\">\n                <div class=\"flex items-center justify-between\">\n                    <div>\n                        <p class=\"text-yellow-600 text-sm font-medium\">Drafts</p>\n                        <p class=\"text-2xl font-bold text-yellow-800\">\n                            <?php echo count(array_filter($posts, function($p) { return !$p['published']; })); ?>\n                        </p>\n                    </div>\n                    <div class=\"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center\">\n                        <i class=\"fas fa-edit text-white\"></i>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 animate-on-scroll\">\n                <div class=\"flex items-center justify-between\">\n                    <div>\n                        <p class=\"text-purple-600 text-sm font-medium\">Categories</p>\n                        <p class=\"text-2xl font-bold text-purple-800\">\n                            <?php echo count(array_unique(array_column($posts, 'category'))); ?>\n                        </p>\n                    </div>\n                    <div class=\"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center\">\n                        <i class=\"fas fa-tags text-white\"></i>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    </div>\n</div>\n\n<!-- Posts Management -->\n<div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\" id=\"posts\">\n    <div class=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\n        <div class=\"px-6 py-4 bg-mountain-50 border-b border-mountain-200\">\n            <div class=\"flex justify-between items-center\">\n                <h2 class=\"text-xl font-bold text-mountain-800\">Blog Posts</h2>\n                <div class=\"flex space-x-2\">\n                    <select class=\"px-4 py-2 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\" id=\"categoryFilter\">\n                        <option value=\"\">All Categories</option>\n                        <?php\n                        $categories = getCategories();\n                        foreach ($categories as $category):\n                        ?>\n                        <option value=\"<?php echo htmlspecialchars($category['name']); ?>\">\n                            <?php echo htmlspecialchars($category['name']); ?>\n                        </option>\n                        <?php endforeach; ?>\n                    </select>\n                    <select class=\"px-4 py-2 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\" id=\"statusFilter\">\n                        <option value=\"\">All Status</option>\n                        <option value=\"published\">Published</option>\n                        <option value=\"draft\">Draft</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <?php if (!empty($posts)): ?>\n        <div class=\"overflow-x-auto\">\n            <table class=\"w-full\">\n                <thead class=\"bg-mountain-100\">\n                    <tr>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Post</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Category</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Images</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Status</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Date</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-mountain-200\">\n                    <?php foreach ($posts as $post): ?>\n                    <tr class=\"post-row hover:bg-mountain-50 transition-colors\" data-category=\"<?php echo htmlspecialchars($post['category']); ?>\" data-status=\"<?php echo $post['published'] ? 'published' : 'draft'; ?>\">\n                        <td class=\"px-6 py-4\">\n                            <div class=\"flex items-center\">\n                                <img src=\"<?php echo htmlspecialchars($post['featured_image']); ?>\" \n                                     alt=\"<?php echo htmlspecialchars($post['title']); ?>\"\n                                     class=\"w-16 h-12 rounded-lg object-cover mr-4\">\n                                <div>\n                                    <div class=\"text-sm font-medium text-mountain-900\">\n                                        <?php echo htmlspecialchars(truncateText($post['title'], 60)); ?>\n                                    </div>\n                                    <div class=\"text-sm text-mountain-500\">\n                                        <?php echo htmlspecialchars(truncateText($post['excerpt'], 80)); ?>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-nepal-100 text-nepal-800\">\n                                <?php echo htmlspecialchars($post['category']); ?>\n                            </span>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <?php \n                            $postId = getPostIdFromSlug($post['slug']);\n                            $galleryImages = $postId ? loadPostImages($postId) : [];\n                            $imageCount = count($galleryImages);\n                            ?>\n                            <div class=\"flex items-center space-x-2\">\n                                <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <?php echo $imageCount > 0 ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'; ?>\">\n                                    <i class=\"fas fa-images mr-1\"></i>\n                                    <?php echo $imageCount; ?> gallery\n                                </span>\n                                <?php if ($imageCount > 0): ?>\n                                <div class=\"flex -space-x-1\">\n                                    <?php foreach (array_slice($galleryImages, 0, 3) as $img): ?>\n                                    <img src=\"<?php echo htmlspecialchars($img['image_url']); ?>\" \n                                         alt=\"Gallery preview\" \n                                         class=\"w-6 h-6 rounded border border-white object-cover\">\n                                    <?php endforeach; ?>\n                                    <?php if ($imageCount > 3): ?>\n                                    <div class=\"w-6 h-6 rounded bg-gray-200 border border-white text-xs flex items-center justify-center\">\n                                        +<?php echo $imageCount - 3; ?>\n                                    </div>\n                                    <?php endif; ?>\n                                </div>\n                                <?php endif; ?>\n                            </div>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <?php echo $post['published'] ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'; ?>\">\n                                <i class=\"fas <?php echo $post['published'] ? 'fa-check-circle' : 'fa-clock'; ?> mr-1\"></i>\n                                <?php echo $post['published'] ? 'Published' : 'Draft'; ?>\n                            </span>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-mountain-500\">\n                            <?php echo formatDate($post['created_at']); ?>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                            <div class=\"flex items-center space-x-2\">\n                                <a href=\"/blog/<?php echo htmlspecialchars($post['slug']); ?>\" \n                                   class=\"text-blue-600 hover:text-blue-900 transition-colors\" \n                                   title=\"View Post\" target=\"_blank\">\n                                    <i class=\"fas fa-eye\"></i>\n                                </a>\n                                <a href=\"/admin/post/edit/<?php echo htmlspecialchars($post['slug']); ?>\" \n                                   class=\"text-nepal-600 hover:text-nepal-900 transition-colors\" \n                                   title=\"Edit Post\">\n                                    <i class=\"fas fa-edit\"></i>\n                                </a>\n                                <button onclick=\"confirmDelete('<?php echo htmlspecialchars($post['slug']); ?>', '<?php echo htmlspecialchars($post['title']); ?>')\" \n                                        class=\"text-red-600 hover:text-red-900 transition-colors\" \n                                        title=\"Delete Post\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </button>\n                            </div>\n                        </td>\n                    </tr>\n                    <?php endforeach; ?>\n                </tbody>\n            </table>\n        </div>\n        <?php else: ?>\n        <div class=\"text-center py-12\">\n            <i class=\"fas fa-file-alt text-mountain-300 text-6xl mb-4\"></i>\n            <h3 class=\"text-lg font-medium text-mountain-700 mb-2\">No posts yet</h3>\n            <p class=\"text-mountain-500 mb-6\">Start creating amazing Nepal travel content!</p>\n            <a href=\"/admin/post/create\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg inline-flex items-center\">\n                <i class=\"fas fa-plus mr-2\"></i>\n                Create Your First Post\n            </a>\n        </div>\n        <?php endif; ?>\n    </div>\n</div>\n\n\n<!-- Category Management -->\n<div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\" id=\"categories\">\n    <div class=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\n        <div class=\"px-6 py-4 bg-mountain-50 border-b border-mountain-200\">\n            <div class=\"flex justify-between items-center\">\n                <h2 class=\"text-xl font-bold text-mountain-800\">Category Management</h2>\n                <button onclick=\"showAddCategoryModal()\" class=\"bg-nepal-500 hover:bg-nepal-600 text-white px-4 py-2 rounded-lg font-medium transition-colors\">\n                    <i class=\"fas fa-plus mr-2\"></i>Add Category\n                </button>\n            </div>\n        </div>\n\n        <div class=\"overflow-x-auto\">\n            <table class=\"w-full\">\n                <thead class=\"bg-mountain-100\">\n                    <tr>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Category Name</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Slug</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Posts Count</th>\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-mountain-500 uppercase tracking-wider\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-mountain-200\">\n                    <?php \n                    $categories = getCategories();\n                    foreach ($categories as $category): \n                        // Count posts in this category\n                        $postCount = count(array_filter($posts, function($p) use ($category) { \n                            return $p['category'] === $category['name']; \n                        }));\n                    ?>\n                    <tr class=\"hover:bg-mountain-50 transition-colors\">\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <div class=\"text-sm font-medium text-mountain-900\">\n                                <?php echo htmlspecialchars($category['name']); ?>\n                            </div>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <div class=\"text-sm text-mountain-500\">\n                                <?php echo htmlspecialchars($category['slug']); ?>\n                            </div>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\n                            <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                                <?php echo $postCount; ?> posts\n                            </span>\n                        </td>\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                            <div class=\"flex items-center space-x-2\">\n                                <button onclick=\"editCategory(<?php echo $category['id']; ?>, '<?php echo htmlspecialchars($category['name']); ?>', '<?php echo htmlspecialchars($category['slug']); ?>')\" \n                                        class=\"text-nepal-600 hover:text-nepal-900 transition-colors\" \n                                        title=\"Edit Category\">\n                                    <i class=\"fas fa-edit\"></i>\n                                </button>\n                                <?php if ($postCount === 0): ?>\n                                <button onclick=\"confirmDeleteCategory(<?php echo $category['id']; ?>, '<?php echo htmlspecialchars($category['name']); ?>')\" \n                                        class=\"text-red-600 hover:text-red-900 transition-colors\" \n                                        title=\"Delete Category\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </button>\n                                <?php else: ?>\n                                <span class=\"text-gray-400\" title=\"Cannot delete category with posts\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </span>\n                                <?php endif; ?>\n                            </div>\n                        </td>\n                    </tr>\n                    <?php endforeach; ?>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n\n<!-- Add/Edit Category Modal -->\n<div id=\"categoryModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\">\n    <div class=\"bg-white rounded-2xl p-6 max-w-md mx-4 animate-fade-in-up\">\n        <h3 id=\"categoryModalTitle\" class=\"text-lg font-semibold text-mountain-800 mb-4\">Add Category</h3>\n        <form id=\"categoryForm\">\n            <input type=\"hidden\" id=\"categoryId\" name=\"category_id\">\n            <div class=\"mb-4\">\n                <label for=\"categoryName\" class=\"block text-sm font-medium text-mountain-700 mb-2\">Category Name</label>\n                <input type=\"text\" id=\"categoryName\" name=\"category_name\" required \n                       class=\"w-full px-3 py-2 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                       placeholder=\"Enter category name\">\n            </div>\n            <div class=\"mb-6\">\n                <label for=\"categorySlug\" class=\"block text-sm font-medium text-mountain-700 mb-2\">Category Slug</label>\n                <input type=\"text\" id=\"categorySlug\" name=\"category_slug\" required \n                       class=\"w-full px-3 py-2 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                       placeholder=\"category-slug\">\n                <p class=\"text-xs text-mountain-500 mt-1\">Used in URLs, only lowercase letters, numbers and hyphens</p>\n            </div>\n            <div class=\"flex space-x-4\">\n                <button type=\"button\" onclick=\"closeCategoryModal()\" \n                        class=\"flex-1 bg-mountain-200 text-mountain-700 py-2 px-4 rounded-lg hover:bg-mountain-300 transition-colors\">\n                    Cancel\n                </button>\n                <button type=\"submit\" \n                        class=\"flex-1 bg-nepal-500 text-white py-2 px-4 rounded-lg hover:bg-nepal-600 transition-colors\">\n                    Save\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<!-- Delete Category Confirmation Modal -->\n<div id=\"deleteCategoryModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\">\n    <div class=\"bg-white rounded-2xl p-6 max-w-md mx-4 animate-fade-in-up\">\n        <div class=\"text-center\">\n            <div class=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i class=\"fas fa-exclamation-triangle text-red-600\"></i>\n            </div>\n            <h3 class=\"text-lg font-semibold text-mountain-800 mb-2\">Delete Category</h3>\n            <p class=\"text-mountain-600 mb-6\">\n                Are you sure you want to delete the category \"<span id=\"deleteCategoryName\"></span>\"?\n            </p>\n            <div class=\"flex space-x-4\">\n                <button onclick=\"closeDeleteCategoryModal()\" class=\"flex-1 bg-mountain-200 text-mountain-700 py-2 px-4 rounded-lg hover:bg-mountain-300 transition-colors\">\n                    Cancel\n                </button>\n                <button onclick=\"deleteCategory()\" class=\"flex-1 bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors\">\n                    Delete\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Delete Post Modal -->\n<div id=\"deleteModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\">\n    <div class=\"bg-white rounded-2xl p-6 max-w-md mx-4 animate-fade-in-up\">\n        <div class=\"text-center\">\n            <div class=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i class=\"fas fa-exclamation-triangle text-red-600\"></i>\n            </div>\n            <h3 class=\"text-lg font-semibold text-mountain-800 mb-2\">Delete Post</h3>\n            <p class=\"text-mountain-600 mb-6\">\n                Are you sure you want to delete \"<span id=\"deletePostTitle\"></span>\"? This action cannot be undone.\n            </p>\n            <div class=\"flex space-x-4\">\n                <button onclick=\"closeDeleteModal()\" class=\"flex-1 bg-mountain-200 text-mountain-700 py-2 px-4 rounded-lg hover:bg-mountain-300 transition-colors\">\n                    Cancel\n                </button>\n                <button onclick=\"deletePost()\" class=\"flex-1 bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors\">\n                    Delete\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<script>\nlet currentDeleteSlug = '';\n\nfunction confirmDelete(slug, title) {\n    currentDeleteSlug = slug;\n    document.getElementById('deletePostTitle').textContent = title;\n    document.getElementById('deleteModal').classList.remove('hidden');\n    document.getElementById('deleteModal').classList.add('flex');\n}\n\nfunction closeDeleteModal() {\n    document.getElementById('deleteModal').classList.add('hidden');\n    document.getElementById('deleteModal').classList.remove('flex');\n    currentDeleteSlug = '';\n}\n\nfunction deletePost() {\n    if (currentDeleteSlug) {\n        const form = document.createElement('form');\n        form.method = 'POST';\n        form.action = `/admin/post/delete/${currentDeleteSlug}`;\n        \n        // Add CSRF token\n        const csrfInput = document.createElement('input');\n        csrfInput.type = 'hidden';\n        csrfInput.name = 'csrf_token';\n        csrfInput.value = '<?php echo generateCSRFToken(); ?>';\n        form.appendChild(csrfInput);\n        \n        document.body.appendChild(form);\n        form.submit();\n    }\n}\n\n// Filter functionality\ndocument.addEventListener('DOMContentLoaded', function() {\n    const categoryFilter = document.getElementById('categoryFilter');\n    const statusFilter = document.getElementById('statusFilter');\n    const postRows = document.querySelectorAll('.post-row');\n\n    function filterPosts() {\n        const selectedCategory = categoryFilter.value;\n        const selectedStatus = statusFilter.value;\n\n        postRows.forEach(row => {\n            const rowCategory = row.dataset.category;\n            const rowStatus = row.dataset.status;\n\n            const categoryMatch = !selectedCategory || rowCategory === selectedCategory;\n            const statusMatch = !selectedStatus || rowStatus === selectedStatus;\n\n            if (categoryMatch && statusMatch) {\n                row.style.display = 'table-row';\n            } else {\n                row.style.display = 'none';\n            }\n        });\n    }\n\n    categoryFilter.addEventListener('change', filterPosts);\n    statusFilter.addEventListener('change', filterPosts);\n});\n\n// Category management functions\nlet currentDeleteCategoryId = '';\n\nfunction showAddCategoryModal() {\n    document.getElementById('categoryModalTitle').textContent = 'Add Category';\n    document.getElementById('categoryForm').reset();\n    document.getElementById('categoryId').value = '';\n    document.getElementById('categoryModal').classList.remove('hidden');\n    document.getElementById('categoryModal').classList.add('flex');\n}\n\nfunction editCategory(id, name, slug) {\n    document.getElementById('categoryModalTitle').textContent = 'Edit Category';\n    document.getElementById('categoryId').value = id;\n    document.getElementById('categoryName').value = name;\n    document.getElementById('categorySlug').value = slug;\n    document.getElementById('categoryModal').classList.remove('hidden');\n    document.getElementById('categoryModal').classList.add('flex');\n}\n\nfunction closeCategoryModal() {\n    document.getElementById('categoryModal').classList.add('hidden');\n    document.getElementById('categoryModal').classList.remove('flex');\n}\n\nfunction confirmDeleteCategory(id, name) {\n    currentDeleteCategoryId = id;\n    document.getElementById('deleteCategoryName').textContent = name;\n    document.getElementById('deleteCategoryModal').classList.remove('hidden');\n    document.getElementById('deleteCategoryModal').classList.add('flex');\n}\n\nfunction closeDeleteCategoryModal() {\n    document.getElementById('deleteCategoryModal').classList.add('hidden');\n    document.getElementById('deleteCategoryModal').classList.remove('flex');\n    currentDeleteCategoryId = '';\n}\n\nfunction deleteCategory() {\n    if (currentDeleteCategoryId) {\n        const form = document.createElement('form');\n        form.method = 'POST';\n        form.action = `/admin/category/delete/${currentDeleteCategoryId}`;\n        \n        // Add CSRF token\n        const csrfInput = document.createElement('input');\n        csrfInput.type = 'hidden';\n        csrfInput.name = 'csrf_token';\n        csrfInput.value = '<?php echo generateCSRFToken(); ?>';\n        form.appendChild(csrfInput);\n        \n        document.body.appendChild(form);\n        form.submit();\n    }\n}\n\n// Category form submission\ndocument.getElementById('categoryForm').addEventListener('submit', function(e) {\n    e.preventDefault();\n    \n    const formData = new FormData(this);\n    const categoryId = formData.get('category_id');\n    const action = categoryId ? `/admin/category/update/${categoryId}` : '/admin/category/create';\n    \n    // Add CSRF token\n    formData.append('csrf_token', '<?php echo generateCSRFToken(); ?>');\n    \n    fetch(action, {\n        method: 'POST',\n        body: formData\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            location.reload();\n        } else {\n            alert(data.message || 'An error occurred');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        alert('An error occurred while saving the category');\n    });\n});\n\n// Auto-generate slug from name\ndocument.getElementById('categoryName').addEventListener('input', function() {\n    const name = this.value;\n    const slug = name.toLowerCase()\n        .replace(/[^a-z0-9\\s-]/g, '')\n        .replace(/\\s+/g, '-')\n        .replace(/-+/g, '-')\n        .trim('-');\n    document.getElementById('categorySlug').value = slug;\n});\n\n// Close modal when clicking outside\ndocument.getElementById('deleteModal').addEventListener('click', function(e) {\n    if (e.target === this) {\n        closeDeleteModal();\n    }\n});\n</script>\n\n</div> <!-- End Main Content Area -->\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":28452},"templates/admin/login.php":{"content":"<?php\n$page_title = 'Admin Login - travelNepal';\n$page_description = 'Admin access to travelNepal content management system.';\n\nob_start();\n?>\n\n<div class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-nepal-50 to-mountain-100 py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8\">\n        <!-- Header -->\n        <div class=\"text-center animate-fade-in-down\">\n            <div class=\"flex items-center justify-center mb-6\">\n                <div class=\"w-16 h-16 bg-gradient-to-r from-nepal-500 to-nepal-600 rounded-2xl flex items-center justify-center mr-4\">\n                    <i class=\"fas fa-mountain text-white text-2xl\"></i>\n                </div>\n                <div>\n                    <h2 class=\"text-3xl font-display font-bold text-gradient\">travelNepal</h2>\n                    <p class=\"text-mountain-600\">Admin Portal</p>\n                </div>\n            </div>\n            <p class=\"mt-2 text-mountain-600\">\n                Sign in to manage your travel content\n            </p>\n        </div>\n\n        <!-- Login Form -->\n        <div class=\"bg-white rounded-2xl shadow-2xl p-8 animate-fade-in-up\">\n            <?php if (isset($error)): ?>\n            <div class=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4\">\n                <div class=\"flex items-center\">\n                    <i class=\"fas fa-exclamation-triangle text-red-500 mr-3\"></i>\n                    <span class=\"text-red-700\"><?php echo htmlspecialchars($error); ?></span>\n                </div>\n            </div>\n            <?php endif; ?>\n\n            <form method=\"POST\" action=\"/admin/login\" class=\"space-y-6\" id=\"login-form\">\n                <input type=\"hidden\" name=\"csrf_token\" value=\"<?php echo generateCSRFToken(); ?>\">\n                <div>\n                    <label for=\"username\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-user mr-2\"></i>Username\n                    </label>\n                    <input type=\"text\" \n                           id=\"username\" \n                           name=\"username\" \n                           required \n                           class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent transition-all duration-200 bg-mountain-50 focus:bg-white\"\n                           placeholder=\"Enter your username\"\n                           autocomplete=\"username\">\n                </div>\n\n                <div>\n                    <label for=\"password\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-lock mr-2\"></i>Password\n                    </label>\n                    <div class=\"relative\">\n                        <input type=\"password\" \n                               id=\"password\" \n                               name=\"password\" \n                               required \n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent transition-all duration-200 bg-mountain-50 focus:bg-white pr-12\"\n                               placeholder=\"Enter your password\"\n                               autocomplete=\"current-password\">\n                        <button type=\"button\" \n                                class=\"absolute inset-y-0 right-0 flex items-center px-4 text-mountain-400 hover:text-mountain-600\"\n                                onclick=\"togglePassword()\">\n                            <i class=\"fas fa-eye\" id=\"password-toggle\"></i>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center\">\n                        <input type=\"checkbox\" \n                               id=\"remember\" \n                               name=\"remember\" \n                               class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\">\n                        <label for=\"remember\" class=\"ml-2 block text-sm text-mountain-700\">\n                            Remember me\n                        </label>\n                    </div>\n                    <div class=\"text-sm\">\n                        <a href=\"#\" class=\"text-nepal-600 hover:text-nepal-500\">\n                            Forgot password?\n                        </a>\n                    </div>\n                </div>\n\n                <button type=\"submit\" \n                        class=\"w-full bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg text-center justify-center\"\n                        id=\"login-btn\">\n                    <i class=\"fas fa-sign-in-alt mr-2\"></i>\n                    Sign In\n                </button>\n            </form>\n\n        </div>\n\n        <!-- Footer -->\n        <div class=\"text-center animate-fade-in-up\">\n            <p class=\"text-mountain-500 text-sm\">\n                &copy; 2025 travelNepal. All rights reserved.\n            </p>\n            <a href=\"/\" class=\"text-nepal-600 hover:text-nepal-500 text-sm font-medium\">\n                <i class=\"fas fa-arrow-left mr-2\"></i>\n                Back to Website\n            </a>\n        </div>\n    </div>\n</div>\n\n<script>\nfunction togglePassword() {\n    const passwordInput = document.getElementById('password');\n    const toggleIcon = document.getElementById('password-toggle');\n    \n    if (passwordInput.type === 'password') {\n        passwordInput.type = 'text';\n        toggleIcon.classList.remove('fa-eye');\n        toggleIcon.classList.add('fa-eye-slash');\n    } else {\n        passwordInput.type = 'password';\n        toggleIcon.classList.remove('fa-eye-slash');\n        toggleIcon.classList.add('fa-eye');\n    }\n}\n\ndocument.getElementById('login-form').addEventListener('submit', function(e) {\n    const btn = document.getElementById('login-btn');\n    \n    // Show loading state\n    const originalText = btn.innerHTML;\n    btn.innerHTML = '<i class=\"fas fa-spinner fa-spin mr-2\"></i>Signing In...';\n    btn.disabled = true;\n    \n    // Reset loading state after form submission\n    setTimeout(function() {\n        btn.innerHTML = originalText;\n        btn.disabled = false;\n    }, 2000);\n});\n\n// Add floating label effect\ndocument.addEventListener('DOMContentLoaded', function() {\n    const inputs = document.querySelectorAll('input[type=\"text\"], input[type=\"password\"]');\n    \n    inputs.forEach(input => {\n        input.addEventListener('focus', function() {\n            this.parentElement.classList.add('focused');\n        });\n        \n        input.addEventListener('blur', function() {\n            if (!this.value) {\n                this.parentElement.classList.remove('focused');\n            }\n        });\n    });\n});\n</script>\n\n<style>\n.focused label {\n    transform: translateY(-0.5rem);\n    font-size: 0.75rem;\n    color: #ed703f;\n}\n</style>\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":7162},"templates/admin/post-form.php":{"content":"<?php\n// Initialize variables to prevent undefined variable warnings\n$post = $post ?? null;\n$error = $error ?? null;\n$isEditing = isset($post);\n$page_title = $isEditing ? 'Edit Post - travelNepal Admin' : 'New Post - travelNepal Admin';\n$page_description = $isEditing ? 'Edit your Nepal travel blog post' : 'Create a new Nepal travel blog post';\n\nob_start();\n?>\n\n<!-- Include Admin Sidebar -->\n<?php include __DIR__ . '/../components/admin-sidebar.php'; ?>\n\n<!-- Main Content Area (with sidebar padding) -->\n<div class=\"lg:ml-64\">\n\n<div class=\"min-h-screen bg-mountain-50\">\n    <!-- Header -->\n    <div class=\"bg-white border-b border-mountain-200\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div class=\"flex justify-between items-center\">\n                <div>\n                    <h1 class=\"text-2xl font-bold text-mountain-800\">\n                        <?php echo $isEditing ? 'Edit Post' : 'Create New Post'; ?>\n                    </h1>\n                    <p class=\"text-mountain-600 mt-1\">\n                        <?php echo $isEditing ? 'Update your Nepal travel story' : 'Share your Nepal adventure with the world'; ?>\n                    </p>\n                </div>\n                <a href=\"/admin/dashboard\" class=\"text-mountain-600 hover:text-nepal-600 font-medium\">\n                    <i class=\"fas fa-arrow-left mr-2\"></i>\n                    Back to Dashboard\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <!-- Form -->\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div class=\"bg-white rounded-2xl shadow-lg\">\n            <form method=\"POST\" action=\"/admin/post/save\" enctype=\"multipart/form-data\" class=\"p-8 space-y-8\" id=\"post-form\">\n                <input type=\"hidden\" name=\"csrf_token\" value=\"<?php echo generateCSRFToken(); ?>\">\n                <?php if ($isEditing): ?>\n                <input type=\"hidden\" name=\"slug\" value=\"<?php echo htmlspecialchars($post['slug'] ?? ''); ?>\">\n                <?php endif; ?>\n\n                <?php if (isset($error)): ?>\n                <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                    <div class=\"flex items-center\">\n                        <i class=\"fas fa-exclamation-triangle text-red-500 mr-3\"></i>\n                        <span class=\"text-red-700\"><?php echo htmlspecialchars($error); ?></span>\n                    </div>\n                </div>\n                <?php endif; ?>\n\n                <!-- Title -->\n                <div>\n                    <label for=\"title\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-heading mr-2\"></i>Title\n                    </label>\n                    <input type=\"text\" \n                           id=\"title\" \n                           name=\"title\" \n                           required \n                           value=\"<?php echo htmlspecialchars($post['title'] ?? ''); ?>\"\n                           class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent text-lg\"\n                           placeholder=\"Enter an engaging title for your post\">\n                </div>\n\n                <!-- Excerpt -->\n                <div>\n                    <label for=\"excerpt\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-quote-left mr-2\"></i>Excerpt\n                    </label>\n                    <textarea id=\"excerpt\" \n                              name=\"excerpt\" \n                              required \n                              rows=\"3\"\n                              class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent resize-none\"\n                              placeholder=\"Write a compelling excerpt that will appear on the blog listing...\"><?php echo htmlspecialchars($post['excerpt'] ?? ''); ?></textarea>\n                </div>\n\n                <!-- Featured Image -->\n                <div>\n                    <label class=\"block text-sm font-medium text-mountain-700 mb-4\">\n                        <i class=\"fas fa-image mr-2\"></i>Featured Image\n                    </label>\n                    \n                    <!-- Upload Option -->\n                    <div class=\"mb-4\">\n                        <label for=\"image_upload\" class=\"block text-sm font-medium text-mountain-600 mb-2\">\n                            <i class=\"fas fa-upload mr-2\"></i>Upload Image\n                        </label>\n                        <input type=\"file\" \n                               id=\"image_upload\" \n                               name=\"image_upload\" \n                               <?php echo !$isEditing ? 'required' : ''; ?>\n                               accept=\".jpg,.jpeg,.png,.webp\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-nepal-50 file:text-nepal-700 hover:file:bg-nepal-100\">\n                        <p class=\"mt-2 text-sm text-mountain-500\">\n                            <strong>Allowed:</strong> JPEG, PNG, WebP • <strong>Max size:</strong> 5MB\n                            <?php if (!$isEditing): ?><br><strong>Required:</strong> You must upload an image for new posts<?php else: ?><br><strong>Optional:</strong> Upload a new image to replace the current one<?php endif; ?>\n                        </p>\n                    </div>\n                </div>\n\n                <!-- Gallery Images -->\n                <div>\n                    <label class=\"block text-sm font-medium text-mountain-700 mb-4\">\n                        <i class=\"fas fa-images mr-2\"></i>Gallery Images\n                    </label>\n                    \n                    <div class=\"mb-4\">\n                        <label for=\"gallery_images\" class=\"block text-sm font-medium text-mountain-600 mb-2\">\n                            <i class=\"fas fa-upload mr-2\"></i>Upload Additional Images\n                        </label>\n                        <input type=\"file\" \n                               id=\"gallery_images\" \n                               name=\"gallery_images[]\" \n                               multiple\n                               accept=\".jpg,.jpeg,.png,.webp\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-nepal-50 file:text-nepal-700 hover:file:bg-nepal-100\"\n                               onchange=\"previewGalleryImages(this)\">\n                        <p class=\"mt-2 text-sm text-mountain-500\">\n                            <strong>Optional:</strong> Upload multiple images for your blog post gallery • \n                            <strong>Allowed:</strong> JPEG, PNG, WebP • <strong>Max size:</strong> 5MB each\n                        </p>\n                    </div>\n\n                    <!-- Gallery Images Preview -->\n                    <div id=\"gallery-preview\" class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4\"></div>\n\n                    <!-- Existing Gallery Images (for editing) -->\n                    <?php if ($isEditing): ?>\n                    <?php \n                    $postId = getPostIdFromSlug($post['slug']);\n                    $existingImages = $postId ? loadPostImages($postId) : [];\n                    if (!empty($existingImages)): \n                    ?>\n                    <div class=\"mt-6\">\n                        <h4 class=\"text-sm font-medium text-mountain-700 mb-3\">Current Gallery Images</h4>\n                        <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\" id=\"existing-gallery\">\n                            <?php foreach ($existingImages as $image): ?>\n                            <div class=\"relative group\" data-image-id=\"<?php echo $image['id']; ?>\">\n                                <img src=\"<?php echo htmlspecialchars($image['image_url']); ?>\" \n                                     alt=\"<?php echo htmlspecialchars($image['alt_text'] ?: 'Gallery image'); ?>\"\n                                     class=\"w-full h-24 object-cover rounded-lg border border-mountain-200\">\n                                <button type=\"button\" \n                                        class=\"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\n                                        onclick=\"removeExistingImage(<?php echo $image['id']; ?>)\"\n                                        title=\"Remove image\">\n                                    <i class=\"fas fa-times\"></i>\n                                </button>\n                            </div>\n                            <?php endforeach; ?>\n                        </div>\n                    </div>\n                    <?php endif; ?>\n                    <?php endif; ?>\n                </div>\n\n                <!-- Category and Tags Row -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <!-- Category -->\n                    <div>\n                        <label for=\"category\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-tag mr-2\"></i>Category\n                        </label>\n                        <select id=\"category\" \n                                name=\"category\" \n                                required\n                                class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                            <option value=\"\">Select a category</option>\n                            <?php\n                            $categories = getCategories();\n                            foreach ($categories as $category):\n                            ?>\n                            <option value=\"<?php echo htmlspecialchars($category['name']); ?>\" <?php echo (($post['category'] ?? '') === $category['name']) ? 'selected' : ''; ?>>\n                                <?php echo htmlspecialchars($category['name']); ?>\n                            </option>\n                            <?php endforeach; ?>\n                        </select>\n                    </div>\n\n                    <!-- Tags -->\n                    <div>\n                        <label for=\"tags\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-tags mr-2\"></i>Tags\n                        </label>\n                        <input type=\"text\" \n                               id=\"tags\" \n                               name=\"tags\" \n                               value=\"<?php echo htmlspecialchars(implode(', ', $post['tags'] ?? [])); ?>\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                               placeholder=\"Everest, Trekking, Adventure (separated by commas)\">\n                    </div>\n                </div>\n\n                <!-- Content -->\n                <div>\n                    <label for=\"content\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-file-alt mr-2\"></i>Content\n                    </label>\n                    <textarea id=\"content\" \n                              name=\"content\" \n                              required \n                              rows=\"20\"\n                              class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent font-mono text-sm\"\n                              placeholder=\"Write your amazing Nepal travel story here... You can use HTML tags for formatting.\"><?php echo htmlspecialchars($post['content'] ?? ''); ?></textarea>\n                    <div class=\"mt-2 text-sm text-mountain-500\">\n                        <strong>HTML Tips:</strong> Use &lt;h2&gt;, &lt;h3&gt;, &lt;p&gt;, &lt;strong&gt;, &lt;ul&gt;, &lt;li&gt; tags for formatting.\n                    </div>\n                </div>\n\n                <!-- Publishing Options -->\n                <div class=\"border-t border-mountain-200 pt-8\">\n                    <div class=\"flex items-center justify-between\">\n                        <div class=\"flex items-center\">\n                            <input type=\"checkbox\" \n                                   id=\"published\" \n                                   name=\"published\" \n                                   <?php echo ($post['published'] ?? false) ? 'checked' : ''; ?>\n                                   class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\">\n                            <label for=\"published\" class=\"ml-2 block text-sm font-medium text-mountain-700\">\n                                <i class=\"fas fa-globe mr-2\"></i>\n                                Publish this post (make it visible to visitors)\n                            </label>\n                        </div>\n                        \n                        <div class=\"flex space-x-4\">\n                            <a href=\"/admin/dashboard\" \n                               class=\"bg-mountain-200 text-mountain-700 px-6 py-3 rounded-lg font-semibold hover:bg-mountain-300 transition-colors\">\n                                Cancel\n                            </a>\n                            <button type=\"submit\" \n                                    class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg\" \n                                    id=\"save-btn\">\n                                <i class=\"fas fa-save mr-2\"></i>\n                                <?php echo $isEditing ? 'Update Post' : 'Save Post'; ?>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n\n        <!-- Preview Section -->\n        <div class=\"mt-8 bg-white rounded-2xl shadow-lg p-8\">\n            <h3 class=\"text-lg font-semibold text-mountain-800 mb-4\">\n                <i class=\"fas fa-eye mr-2\"></i>Live Preview\n            </h3>\n            <div class=\"border border-mountain-200 rounded-lg p-6 bg-mountain-50\">\n                <div id=\"preview-content\">\n                    <div class=\"text-center text-mountain-500 py-8\">\n                        <i class=\"fas fa-eye-slash text-3xl mb-2\"></i>\n                        <p>Start typing to see a preview of your post</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n    const titleInput = document.getElementById('title');\n    const excerptInput = document.getElementById('excerpt');\n    const contentInput = document.getElementById('content');\n    const categoryInput = document.getElementById('category');\n    const previewContent = document.getElementById('preview-content');\n\n    function updatePreview() {\n        const title = titleInput.value || 'Your Post Title';\n        const excerpt = excerptInput.value || 'Your post excerpt will appear here...';\n        const content = contentInput.value || '<p>Start writing your amazing Nepal travel story...</p>';\n        const category = categoryInput.value || 'Category';\n\n        previewContent.innerHTML = `\n            <div class=\"bg-white rounded-lg p-6\">\n                <div class=\"mb-4\">\n                    <span class=\"bg-nepal-500 text-white px-3 py-1 rounded-full text-sm font-medium\">\n                        ${category}\n                    </span>\n                </div>\n                <h2 class=\"text-2xl font-bold text-mountain-800 mb-3\">${title}</h2>\n                <p class=\"text-mountain-600 mb-4 italic\">${excerpt}</p>\n                <div class=\"prose prose-mountain max-w-none\">\n                    ${content}\n                </div>\n            </div>\n        `;\n    }\n\n    // Update preview on input\n    titleInput.addEventListener('input', updatePreview);\n    excerptInput.addEventListener('input', updatePreview);\n    contentInput.addEventListener('input', updatePreview);\n    categoryInput.addEventListener('change', updatePreview);\n\n    // Initial preview update\n    updatePreview();\n\n    // Form submission with loading state\n    document.getElementById('post-form').addEventListener('submit', function(e) {\n        const btn = document.getElementById('save-btn');\n        const resetLoading = showLoading(btn);\n    });\n\n    // Auto-resize textareas\n    function autoResize(textarea) {\n        textarea.style.height = 'auto';\n        textarea.style.height = textarea.scrollHeight + 'px';\n    }\n\n    excerptInput.addEventListener('input', function() {\n        autoResize(this);\n    });\n\n    // Character counter for excerpt\n    const excerptCounter = document.createElement('div');\n    excerptCounter.className = 'text-sm text-mountain-500 mt-1';\n    excerptInput.parentNode.appendChild(excerptCounter);\n\n    excerptInput.addEventListener('input', function() {\n        const length = this.value.length;\n        excerptCounter.textContent = `${length} characters (recommended: 120-160)`;\n        \n        if (length > 160) {\n            excerptCounter.className = 'text-sm text-red-500 mt-1';\n        } else if (length >= 120) {\n            excerptCounter.className = 'text-sm text-green-600 mt-1';\n        } else {\n            excerptCounter.className = 'text-sm text-mountain-500 mt-1';\n        }\n    });\n\n    // Initial character count\n    excerptInput.dispatchEvent(new Event('input'));\n});\n\n// Gallery Images Functions\nfunction previewGalleryImages(input) {\n    const previewContainer = document.getElementById('gallery-preview');\n    previewContainer.innerHTML = '';\n    \n    if (input.files && input.files.length > 0) {\n        for (let i = 0; i < input.files.length; i++) {\n            const file = input.files[i];\n            \n            if (file.type.startsWith('image/')) {\n                const reader = new FileReader();\n                \n                reader.onload = function(e) {\n                    const imageDiv = document.createElement('div');\n                    imageDiv.className = 'relative group';\n                    imageDiv.innerHTML = `\n                        <img src=\"${e.target.result}\" \n                             alt=\"Gallery preview\" \n                             class=\"w-full h-24 object-cover rounded-lg border border-mountain-200\">\n                        <div class=\"absolute top-1 right-1 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs\">\n                            ${i + 1}\n                        </div>\n                    `;\n                    previewContainer.appendChild(imageDiv);\n                };\n                \n                reader.readAsDataURL(file);\n            }\n        }\n    }\n}\n\n// Array to track images marked for deletion\nlet imagesToDelete = [];\n\nfunction removeExistingImage(imageId) {\n    if (confirm('Are you sure you want to remove this image from the gallery?')) {\n        // Hide the image element\n        const imageDiv = document.querySelector(`[data-image-id=\"${imageId}\"]`);\n        if (imageDiv) {\n            imageDiv.style.display = 'none';\n            \n            // Add to deletion list\n            if (!imagesToDelete.includes(imageId)) {\n                imagesToDelete.push(imageId);\n            }\n            \n            // Add hidden input to track deletions\n            const hiddenInput = document.createElement('input');\n            hiddenInput.type = 'hidden';\n            hiddenInput.name = 'delete_images[]';\n            hiddenInput.value = imageId;\n            document.getElementById('post-form').appendChild(hiddenInput);\n        }\n    }\n}\n\n</script>\n\n<style>\n.prose h2 {\n    @apply text-2xl font-bold text-mountain-800 mt-8 mb-4;\n}\n\n.prose h3 {\n    @apply text-xl font-bold text-mountain-800 mt-6 mb-3;\n}\n\n.prose p {\n    @apply mb-4 leading-relaxed text-mountain-700;\n}\n\n.prose ul, .prose ol {\n    @apply mb-4 ml-6;\n}\n\n.prose li {\n    @apply mb-2 leading-relaxed text-mountain-700;\n}\n\n.prose strong {\n    @apply font-semibold text-mountain-800;\n}\n\ntextarea {\n    resize: vertical;\n    min-height: 120px;\n}\n\n#content {\n    min-height: 400px;\n    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n}\n</style>\n\n</div> <!-- End Main Content Area -->\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":20905},"templates/blog/index.php":{"content":"<?php\n$page_title = 'Travel Blog - Nepal Adventures & Guides';\n$page_description = 'Discover Nepal through our comprehensive travel blog featuring trekking guides, cultural insights, and adventure stories from the Himalayas.';\n\nob_start();\n?>\n\n<!-- Hero Section -->\n<section class=\"relative py-24 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"absolute inset-0 opacity-20\">\n        <img src=\"/assets/images/Prayer_flags_mountain_vista_1f2256d5.png\" \n             alt=\"Nepal Mountains\" \n             class=\"w-full h-full object-cover\">\n    </div>\n    <div class=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h1 class=\"text-4xl md:text-6xl font-display font-bold mb-6 animate-fade-in-down\">\n            Nepal Travel <span class=\"text-yellow-300\">Adventures</span>\n        </h1>\n        <p class=\"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90 animate-fade-in-up\">\n            Expert guides, stunning photography, and insider tips for your Himalayan journey. \n            Discover the secrets of Nepal through our adventure-filled travel blog.\n        </p>\n        <div class=\"flex flex-wrap justify-center gap-4 animate-fade-in-up\">\n            <span class=\"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm\">\n                <i class=\"fas fa-mountain mr-2\"></i>Trekking Guides\n            </span>\n            <span class=\"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm\">\n                <i class=\"fas fa-camera mr-2\"></i>Photography Tips\n            </span>\n            <span class=\"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm\">\n                <i class=\"fas fa-map-marked-alt mr-2\"></i>Cultural Insights\n            </span>\n        </div>\n    </div>\n</section>\n\n<!-- Blog Categories Filter -->\n<section class=\"py-8 bg-white border-b border-mountain-200\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex flex-wrap justify-center gap-4\">\n            <button class=\"category-filter active bg-nepal-500 text-white px-6 py-2 rounded-full font-medium transition-all duration-300 hover:bg-nepal-600\" data-category=\"all\">\n                All Posts\n            </button>\n            <?php\n            $categories = getCategories();\n            foreach ($categories as $category):\n            ?>\n            <button class=\"category-filter bg-mountain-100 text-mountain-700 px-6 py-2 rounded-full font-medium transition-all duration-300 hover:bg-nepal-500 hover:text-white\" \n                    data-category=\"<?php echo htmlspecialchars($category['name']); ?>\">\n                <?php echo htmlspecialchars($category['name']); ?>\n            </button>\n            <?php endforeach; ?>\n        </div>\n    </div>\n</section>\n\n<!-- Blog Posts Grid -->\n<section class=\"py-16 bg-gradient-to-b from-gray-50 to-white\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <?php if (!empty($posts)): ?>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8\" id=\"blog-grid\">\n            <?php foreach ($posts as $post): ?>\n            <article class=\"blog-post card-hover bg-white rounded-2xl shadow-lg overflow-hidden animate-on-scroll\" data-category=\"<?php echo htmlspecialchars($post['category']); ?>\">\n                <div class=\"relative h-64\">\n                    <img src=\"<?php echo htmlspecialchars($post['featured_image']); ?>\" \n                         alt=\"<?php echo htmlspecialchars($post['title']); ?>\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                    <div class=\"absolute top-4 left-4\">\n                        <span class=\"bg-nepal-500 text-white px-3 py-1 rounded-full text-sm font-medium\">\n                            <?php echo htmlspecialchars($post['category']); ?>\n                        </span>\n                    </div>\n                    <div class=\"absolute bottom-4 left-4 text-white\">\n                        <div class=\"flex items-center text-sm\">\n                            <i class=\"fas fa-clock mr-2\"></i>\n                            <span>8 min read</span>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class=\"p-6\">\n                    <div class=\"flex items-center text-mountain-500 text-sm mb-3\">\n                        <i class=\"fas fa-calendar-alt mr-2\"></i>\n                        <span><?php echo formatDate($post['created_at']); ?></span>\n                        <div class=\"flex items-center ml-auto\">\n                            <?php foreach (array_slice($post['tags'], 0, 2) as $tag): ?>\n                            <span class=\"bg-mountain-100 text-mountain-600 px-2 py-1 rounded text-xs mr-2\">\n                                #<?php echo htmlspecialchars($tag); ?>\n                            </span>\n                            <?php endforeach; ?>\n                        </div>\n                    </div>\n                    \n                    <h2 class=\"text-2xl font-bold text-mountain-800 mb-3 leading-tight\">\n                        <a href=\"/blog/<?php echo htmlspecialchars($post['slug']); ?>\" \n                           class=\"hover:text-nepal-600 transition-colors\">\n                            <?php echo htmlspecialchars($post['title']); ?>\n                        </a>\n                    </h2>\n                    \n                    <p class=\"text-mountain-600 mb-4 leading-relaxed\">\n                        <?php echo htmlspecialchars(truncateText($post['excerpt'], 130)); ?>\n                    </p>\n                    \n                    <div class=\"flex items-center justify-between\">\n                        <a href=\"/blog/<?php echo htmlspecialchars($post['slug']); ?>\" \n                           class=\"inline-flex items-center text-nepal-600 hover:text-nepal-700 font-semibold transition-colors group\">\n                            Read Full Article \n                            <i class=\"fas fa-arrow-right ml-2 transform group-hover:translate-x-1 transition-transform\"></i>\n                        </a>\n                        \n                        <div class=\"flex space-x-3 text-mountain-400\">\n                            <button class=\"hover:text-nepal-500 transition-colors\" title=\"Share\">\n                                <i class=\"fas fa-share-alt\"></i>\n                            </button>\n                            <button class=\"hover:text-red-500 transition-colors\" title=\"Like\">\n                                <i class=\"far fa-heart\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </article>\n            <?php endforeach; ?>\n        </div>\n        \n        <?php else: ?>\n        <div class=\"text-center py-16\">\n            <div class=\"bg-white rounded-2xl shadow-lg p-12 max-w-md mx-auto\">\n                <i class=\"fas fa-mountain text-mountain-300 text-6xl mb-6\"></i>\n                <h3 class=\"text-2xl font-bold text-mountain-700 mb-4\">No Adventures Yet</h3>\n                <p class=\"text-mountain-500 mb-6\">\n                    We're currently crafting amazing Nepal travel stories for you. Check back soon!\n                </p>\n                <a href=\"/\" class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg inline-flex items-center\">\n                    <i class=\"fas fa-home mr-2\"></i>\n                    Back to Home\n                </a>\n            </div>\n        </div>\n        <?php endif; ?>\n    </div>\n</section>\n\n<!-- Newsletter CTA -->\n<section class=\"py-16 bg-mountain-900 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h3 class=\"text-3xl md:text-4xl font-display font-bold mb-4\">\n            Join Fellow Adventurers\n        </h3>\n        <p class=\"text-xl mb-8 opacity-90\">\n            Get weekly Nepal travel tips, exclusive guides, and stories from fellow trekkers delivered to your inbox.\n        </p>\n        <form class=\"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto\" onsubmit=\"handleNewsletterSubmit(event)\">\n            <input type=\"email\" \n                   placeholder=\"Your email address\" \n                   required\n                   class=\"flex-1 px-4 py-3 rounded-full text-mountain-800 focus:outline-none focus:ring-2 focus:ring-nepal-500\">\n            <button type=\"submit\" class=\"bg-nepal-500 hover:bg-nepal-600 text-white px-8 py-3 rounded-full font-semibold transition-colors\">\n                <i class=\"fas fa-paper-plane mr-2\"></i>\n                Subscribe\n            </button>\n        </form>\n    </div>\n</section>\n\n<script>\n// Blog category filtering\ndocument.addEventListener('DOMContentLoaded', function() {\n    const categoryButtons = document.querySelectorAll('.category-filter');\n    const blogPosts = document.querySelectorAll('.blog-post');\n    \n    categoryButtons.forEach(button => {\n        button.addEventListener('click', function() {\n            const category = this.dataset.category;\n            \n            // Update active button\n            categoryButtons.forEach(btn => btn.classList.remove('active', 'bg-nepal-500', 'text-white'));\n            categoryButtons.forEach(btn => btn.classList.add('bg-mountain-100', 'text-mountain-700'));\n            \n            this.classList.add('active', 'bg-nepal-500', 'text-white');\n            this.classList.remove('bg-mountain-100', 'text-mountain-700');\n            \n            // Filter posts\n            blogPosts.forEach(post => {\n                if (category === 'all' || post.dataset.category === category) {\n                    post.style.display = 'block';\n                    post.classList.add('animate-fade-in-up');\n                } else {\n                    post.style.display = 'none';\n                }\n            });\n        });\n    });\n});\n\nfunction handleNewsletterSubmit(event) {\n    event.preventDefault();\n    const email = event.target.querySelector('input[type=\"email\"]').value;\n    showNotification('Thanks for subscribing! Welcome to the travelNepal community.', 'success');\n    event.target.reset();\n}\n</script>\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":10404},"templates/blog/post.php":{"content":"<?php\n// Check if post data exists, otherwise show 404\nif (!isset($post) || !$post || !is_array($post)) {\n    http_response_code(404);\n    include TEMPLATES_PATH . '/404.php';\n    exit;\n}\n\n$page_title = htmlspecialchars($post['title'] ?? 'Blog Post');\n$page_description = htmlspecialchars($post['excerpt'] ?? 'Read this amazing Nepal travel story and adventure guide.');\n\nob_start();\n?>\n\n<!-- Article Header -->\n<article class=\"max-w-4xl mx-auto\">\n    <!-- Hero Image -->\n    <div class=\"relative h-96 md:h-[500px] overflow-hidden\">\n        <img src=\"<?php echo htmlspecialchars($post['featured_image']); ?>\" \n             alt=\"<?php echo htmlspecialchars($post['title']); ?>\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent\"></div>\n        \n        <!-- Article Meta Overlay -->\n        <div class=\"absolute bottom-0 left-0 right-0 p-6 md:p-8 text-white\">\n            <div class=\"max-w-4xl mx-auto\">\n                <!-- Breadcrumb -->\n                <nav class=\"mb-4\">\n                    <ol class=\"flex items-center space-x-2 text-sm opacity-80\">\n                        <li><a href=\"/\" class=\"hover:text-yellow-300 transition-colors\">Home</a></li>\n                        <li><i class=\"fas fa-chevron-right mx-2\"></i></li>\n                        <li><a href=\"/blog\" class=\"hover:text-yellow-300 transition-colors\">Blog</a></li>\n                        <li><i class=\"fas fa-chevron-right mx-2\"></i></li>\n                        <li class=\"text-yellow-300\"><?php echo htmlspecialchars($post['category']); ?></li>\n                    </ol>\n                </nav>\n                \n                <!-- Category Badge -->\n                <div class=\"mb-4\">\n                    <span class=\"bg-nepal-500 text-white px-4 py-2 rounded-full text-sm font-medium\">\n                        <i class=\"fas fa-tag mr-2\"></i>\n                        <?php echo htmlspecialchars($post['category']); ?>\n                    </span>\n                </div>\n                \n                <!-- Title -->\n                <h1 class=\"text-3xl md:text-5xl font-display font-bold mb-4 leading-tight\">\n                    <?php echo htmlspecialchars($post['title']); ?>\n                </h1>\n                \n                <!-- Meta Information -->\n                <div class=\"flex flex-wrap items-center gap-4 text-sm opacity-90\">\n                    <div class=\"flex items-center\">\n                        <i class=\"fas fa-calendar-alt mr-2\"></i>\n                        <span><?php echo formatDate($post['created_at']); ?></span>\n                    </div>\n                    <div class=\"flex items-center\">\n                        <i class=\"fas fa-clock mr-2\"></i>\n                        <span>8 min read</span>\n                    </div>\n                    <div class=\"flex items-center\">\n                        <i class=\"fas fa-user mr-2\"></i>\n                        <span>travelNepal Team</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <!-- Article Content -->\n    <div class=\"px-4 sm:px-6 lg:px-8 py-12\">\n        <div class=\"max-w-4xl mx-auto\">\n            <!-- Article Excerpt -->\n            <div class=\"bg-nepal-50 border-l-4 border-nepal-500 p-6 mb-8 rounded-r-lg\">\n                <p class=\"text-lg text-mountain-700 leading-relaxed font-medium italic\">\n                    \"<?php echo htmlspecialchars($post['excerpt']); ?>\"\n                </p>\n            </div>\n            \n            <!-- Share Buttons -->\n            <div class=\"flex items-center justify-between mb-8 pb-6 border-b border-mountain-200\">\n                <div class=\"text-mountain-600\">\n                    Share this adventure:\n                </div>\n                <div class=\"flex space-x-4\">\n                    <button class=\"bg-blue-500 hover:bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center transition-colors\" onclick=\"shareArticle('facebook')\" title=\"Share on Facebook\">\n                        <i class=\"fab fa-facebook-f\"></i>\n                    </button>\n                    <button class=\"bg-blue-400 hover:bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center transition-colors\" onclick=\"shareArticle('twitter')\" title=\"Share on Twitter\">\n                        <i class=\"fab fa-twitter\"></i>\n                    </button>\n                    <button class=\"bg-red-500 hover:bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center transition-colors\" onclick=\"shareArticle('pinterest')\" title=\"Pin to Pinterest\">\n                        <i class=\"fab fa-pinterest-p\"></i>\n                    </button>\n                    <button class=\"bg-mountain-500 hover:bg-mountain-600 text-white w-10 h-10 rounded-full flex items-center justify-center transition-colors\" onclick=\"shareArticle('copy')\" title=\"Copy Link\">\n                        <i class=\"fas fa-link\"></i>\n                    </button>\n                </div>\n            </div>\n            \n            <!-- Article Body -->\n            <div class=\"prose prose-lg prose-mountain max-w-none\">\n                <div class=\"article-content text-mountain-700 leading-relaxed\">\n                    <?php echo $post['content']; ?>\n                </div>\n            </div>\n            \n            <!-- Image Gallery -->\n            <?php\n            $postId = getPostIdFromSlug($post['slug']);\n            $galleryImages = $postId ? loadPostImages($postId) : [];\n            if (!empty($galleryImages)):\n            ?>\n            <div class=\"mt-12 pt-8 border-t border-mountain-200\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-6 flex items-center\">\n                    <i class=\"fas fa-images mr-2 text-nepal-500\"></i>\n                    Gallery\n                </h3>\n                <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                    <?php foreach ($galleryImages as $index => $image): ?>\n                    <div class=\"group cursor-pointer\" onclick=\"openLightbox(<?php echo $index; ?>)\">\n                        <img src=\"<?php echo htmlspecialchars($image['image_url']); ?>\" \n                             alt=\"<?php echo htmlspecialchars($image['alt_text'] ?: 'Gallery image ' . ($index + 1)); ?>\"\n                             class=\"w-full h-32 object-cover rounded-lg border border-mountain-200 group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105\">\n                    </div>\n                    <?php endforeach; ?>\n                </div>\n            </div>\n            \n            <!-- Lightbox Modal -->\n            <div id=\"lightbox\" class=\"fixed inset-0 bg-black bg-opacity-90 hidden z-50 flex items-center justify-center p-4\">\n                <div class=\"relative max-w-4xl max-h-full\">\n                    <button onclick=\"closeLightbox()\" class=\"absolute top-4 right-4 text-white text-2xl hover:text-gray-300 z-10\">\n                        <i class=\"fas fa-times\"></i>\n                    </button>\n                    <button onclick=\"prevImage()\" class=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-2xl hover:text-gray-300 z-10\">\n                        <i class=\"fas fa-chevron-left\"></i>\n                    </button>\n                    <button onclick=\"nextImage()\" class=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-2xl hover:text-gray-300 z-10\">\n                        <i class=\"fas fa-chevron-right\"></i>\n                    </button>\n                    <img id=\"lightbox-image\" src=\"\" alt=\"\" class=\"max-w-full max-h-full object-contain rounded-lg\">\n                    <div class=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-center\">\n                        <span id=\"lightbox-counter\" class=\"text-sm opacity-80\"></span>\n                    </div>\n                </div>\n            </div>\n            <?php endif; ?>\n            \n            <!-- Tags -->\n            <div class=\"mt-12 pt-8 border-t border-mountain-200\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-4\">Tags</h3>\n                <div class=\"flex flex-wrap gap-3\">\n                    <?php if (isset($post['tags']) && is_array($post['tags']) && !empty($post['tags'])): ?>\n                        <?php foreach ($post['tags'] as $tag): ?>\n                        <span class=\"bg-mountain-100 hover:bg-nepal-100 text-mountain-700 hover:text-nepal-700 px-4 py-2 rounded-full text-sm transition-colors cursor-pointer\">\n                            #<?php echo htmlspecialchars($tag); ?>\n                        </span>\n                        <?php endforeach; ?>\n                    <?php else: ?>\n                        <span class=\"text-mountain-500 italic\">No tags available</span>\n                    <?php endif; ?>\n                </div>\n            </div>\n        </div>\n    </div>\n</article>\n\n<!-- Related Posts -->\n<section class=\"py-16 bg-mountain-50\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-12 text-center\">\n            More Nepal <span class=\"text-gradient\">Adventures</span>\n        </h2>\n        \n        <?php\n        $all_posts = loadBlogPosts();\n        $related_posts = [];\n        if (is_array($all_posts)) {\n            $related_posts = array_filter($all_posts, function($p) use ($post) {\n                return $p['slug'] !== $post['slug'] && \n                       (in_array($post['category'] ?? '', [$p['category'] ?? '']) || \n                        count(array_intersect($post['tags'] ?? [], $p['tags'] ?? [])) > 0);\n            });\n            $related_posts = array_slice($related_posts, 0, 3);\n        }\n        ?>\n        \n        <?php if (!empty($related_posts)): ?>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <?php foreach ($related_posts as $related_post): ?>\n            <div class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden\">\n                <div class=\"relative h-48\">\n                    <img src=\"<?php echo htmlspecialchars($related_post['featured_image']); ?>\" \n                         alt=\"<?php echo htmlspecialchars($related_post['title']); ?>\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute top-4 left-4\">\n                        <span class=\"bg-nepal-500 text-white px-3 py-1 rounded-full text-sm font-medium\">\n                            <?php echo htmlspecialchars($related_post['category']); ?>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3\">\n                        <a href=\"/blog/<?php echo htmlspecialchars($related_post['slug']); ?>\" \n                           class=\"hover:text-nepal-600 transition-colors\">\n                            <?php echo htmlspecialchars($related_post['title']); ?>\n                        </a>\n                    </h3>\n                    <p class=\"text-mountain-600 mb-4\">\n                        <?php echo htmlspecialchars(truncateText($related_post['excerpt'], 100)); ?>\n                    </p>\n                    <a href=\"/blog/<?php echo htmlspecialchars($related_post['slug']); ?>\" \n                       class=\"text-nepal-600 hover:text-nepal-700 font-semibold text-sm\">\n                        Read More <i class=\"fas fa-arrow-right ml-2\"></i>\n                    </a>\n                </div>\n            </div>\n            <?php endforeach; ?>\n        </div>\n        <?php endif; ?>\n    </div>\n</section>\n\n<!-- Call to Action -->\n<section class=\"py-16 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h2 class=\"text-3xl md:text-4xl font-display font-bold mb-6\">\n            Ready to Explore Nepal?\n        </h2>\n        <p class=\"text-xl mb-8 opacity-90\">\n            Let this story inspire your own Himalayan adventure. Start planning your journey today.\n        </p>\n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a href=\"/blog\" class=\"bg-white text-nepal-600 hover:text-nepal-700 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-compass mr-2\"></i>\n                More Adventures\n            </a>\n            <a href=\"/\" class=\"border-2 border-white hover:bg-white hover:text-nepal-600 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-home mr-2\"></i>\n                Back to Home\n            </a>\n        </div>\n    </div>\n</section>\n\n<script>\nfunction shareArticle(platform) {\n    const url = encodeURIComponent(window.location.href);\n    const title = encodeURIComponent(document.title);\n    const description = encodeURIComponent(\"<?php echo htmlspecialchars($post['excerpt']); ?>\");\n    \n    let shareUrl = '';\n    \n    switch(platform) {\n        case 'facebook':\n            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;\n            break;\n        case 'twitter':\n            shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;\n            break;\n        case 'pinterest':\n            shareUrl = `https://pinterest.com/pin/create/button/?url=${url}&description=${description}`;\n            break;\n        case 'copy':\n            navigator.clipboard.writeText(window.location.href).then(() => {\n                showNotification('Link copied to clipboard!', 'success');\n            });\n            return;\n    }\n    \n    if (shareUrl) {\n        window.open(shareUrl, '_blank', 'width=600,height=400');\n    }\n}\n\n// Smooth scroll for any anchor links in content\ndocument.addEventListener('DOMContentLoaded', function() {\n    const articleContent = document.querySelector('.article-content');\n    if (articleContent) {\n        // Style the content\n        articleContent.querySelectorAll('h2').forEach(h2 => {\n            h2.className = 'text-2xl md:text-3xl font-bold text-mountain-800 mt-12 mb-6';\n        });\n        \n        articleContent.querySelectorAll('h3').forEach(h3 => {\n            h3.className = 'text-xl md:text-2xl font-bold text-mountain-800 mt-10 mb-4';\n        });\n        \n        articleContent.querySelectorAll('p').forEach(p => {\n            p.className = 'mb-6 leading-relaxed';\n        });\n        \n        articleContent.querySelectorAll('ul, ol').forEach(list => {\n            list.className = 'mb-6 ml-6 space-y-2';\n        });\n        \n        articleContent.querySelectorAll('li').forEach(li => {\n            li.className = 'leading-relaxed';\n        });\n        \n        articleContent.querySelectorAll('strong').forEach(strong => {\n            strong.className = 'font-semibold text-mountain-800';\n        });\n        \n        articleContent.querySelectorAll('a').forEach(a => {\n            a.className = 'text-nepal-600 hover:text-nepal-700 font-medium underline transition-colors';\n        });\n    }\n});\n\n// Gallery Lightbox Functions\n<?php if (!empty($galleryImages)): ?>\nlet currentImageIndex = 0;\nconst galleryImages = <?php echo json_encode(array_values($galleryImages)); ?>;\n\nfunction openLightbox(index) {\n    currentImageIndex = index;\n    const lightbox = document.getElementById('lightbox');\n    const lightboxImage = document.getElementById('lightbox-image');\n    const lightboxCounter = document.getElementById('lightbox-counter');\n    \n    lightboxImage.src = galleryImages[currentImageIndex].image_url;\n    lightboxImage.alt = galleryImages[currentImageIndex].alt_text || `Gallery image ${currentImageIndex + 1}`;\n    lightboxCounter.textContent = `${currentImageIndex + 1} of ${galleryImages.length}`;\n    \n    lightbox.classList.remove('hidden');\n    document.body.style.overflow = 'hidden';\n}\n\nfunction closeLightbox() {\n    const lightbox = document.getElementById('lightbox');\n    lightbox.classList.add('hidden');\n    document.body.style.overflow = 'auto';\n}\n\nfunction nextImage() {\n    currentImageIndex = (currentImageIndex + 1) % galleryImages.length;\n    updateLightboxImage();\n}\n\nfunction prevImage() {\n    currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;\n    updateLightboxImage();\n}\n\nfunction updateLightboxImage() {\n    const lightboxImage = document.getElementById('lightbox-image');\n    const lightboxCounter = document.getElementById('lightbox-counter');\n    \n    lightboxImage.src = galleryImages[currentImageIndex].image_url;\n    lightboxImage.alt = galleryImages[currentImageIndex].alt_text || `Gallery image ${currentImageIndex + 1}`;\n    lightboxCounter.textContent = `${currentImageIndex + 1} of ${galleryImages.length}`;\n}\n\n// Keyboard navigation\ndocument.addEventListener('keydown', function(e) {\n    const lightbox = document.getElementById('lightbox');\n    if (!lightbox.classList.contains('hidden')) {\n        switch(e.key) {\n            case 'Escape':\n                closeLightbox();\n                break;\n            case 'ArrowLeft':\n                prevImage();\n                break;\n            case 'ArrowRight':\n                nextImage();\n                break;\n        }\n    }\n});\n\n// Close lightbox when clicking outside the image\ndocument.getElementById('lightbox').addEventListener('click', function(e) {\n    if (e.target === this) {\n        closeLightbox();\n    }\n});\n<?php endif; ?>\n</script>\n\n<?php\n$content = ob_get_contents();\nob_end_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":17578},"templates/components/footer.php":{"content":"<footer class=\"bg-mountain-900 text-white py-16\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n            <!-- Brand Section -->\n            <div class=\"col-span-1 lg:col-span-2\">\n                <div class=\"flex items-center space-x-3 mb-6\">\n                    <div class=\"w-12 h-12 bg-gradient-to-r from-nepal-500 to-nepal-600 rounded-lg flex items-center justify-center\">\n                        <i class=\"fas fa-mountain text-white text-xl\"></i>\n                    </div>\n                    <span class=\"text-2xl font-display font-bold text-white\">travelNepal</span>\n                </div>\n                <p class=\"text-mountain-300 text-lg mb-6 max-w-md\">\n                    Discover the breathtaking beauty of Nepal with our expert travel guides, stunning photography, and insider tips for your Himalayan adventure.\n                </p>\n                <div class=\"flex space-x-4\">\n                    <a href=\"#\" class=\"w-10 h-10 bg-mountain-800 rounded-full flex items-center justify-center hover:bg-nepal-600 transition-colors\">\n                        <i class=\"fab fa-facebook-f\"></i>\n                    </a>\n                    <a href=\"#\" class=\"w-10 h-10 bg-mountain-800 rounded-full flex items-center justify-center hover:bg-nepal-600 transition-colors\">\n                        <i class=\"fab fa-instagram\"></i>\n                    </a>\n                    <a href=\"#\" class=\"w-10 h-10 bg-mountain-800 rounded-full flex items-center justify-center hover:bg-nepal-600 transition-colors\">\n                        <i class=\"fab fa-twitter\"></i>\n                    </a>\n                    <a href=\"#\" class=\"w-10 h-10 bg-mountain-800 rounded-full flex items-center justify-center hover:bg-nepal-600 transition-colors\">\n                        <i class=\"fab fa-youtube\"></i>\n                    </a>\n                </div>\n            </div>\n            \n            <!-- Quick Links -->\n            <div>\n                <h3 class=\"text-lg font-semibold mb-4\">Explore</h3>\n                <ul class=\"space-y-3\">\n                    <li><a href=\"/\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Home</a></li>\n                    <li><a href=\"/blog\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Travel Blog</a></li>\n                    <li><a href=\"/destinations\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Destinations</a></li>\n                    <li><a href=\"/guides\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Travel Guides</a></li>\n                    <li><a href=\"/about\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">About Us</a></li>\n                </ul>\n            </div>\n            \n            <!-- Popular Destinations -->\n            <div>\n                <h3 class=\"text-lg font-semibold mb-4\">Popular Destinations</h3>\n                <ul class=\"space-y-3\">\n                    <li><a href=\"#\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Kathmandu Valley</a></li>\n                    <li><a href=\"#\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Everest Base Camp</a></li>\n                    <li><a href=\"#\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Annapurna Circuit</a></li>\n                    <li><a href=\"#\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Pokhara</a></li>\n                    <li><a href=\"#\" class=\"text-mountain-300 hover:text-nepal-400 transition-colors\">Chitwan National Park</a></li>\n                </ul>\n            </div>\n        </div>\n        \n        <!-- Bottom Bar -->\n        <div class=\"border-t border-mountain-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\n            <p class=\"text-mountain-400 text-sm\">\n                &copy; 2025 travelNepal. All rights reserved.\n            </p>\n            <div class=\"flex space-x-6 mt-4 md:mt-0\">\n                <a href=\"/privacy\" class=\"text-mountain-400 hover:text-nepal-400 text-sm transition-colors\">Privacy Policy</a>\n                <a href=\"/terms\" class=\"text-mountain-400 hover:text-nepal-400 text-sm transition-colors\">Terms of Service</a>\n                <a href=\"/contact\" class=\"text-mountain-400 hover:text-nepal-400 text-sm transition-colors\">Contact</a>\n            </div>\n        </div>\n    </div>\n</footer>","size_bytes":4437},"templates/components/navbar.php":{"content":"<nav class=\"bg-white shadow-lg sticky top-0 z-50\" id=\"navbar\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n            <!-- Logo -->\n            <div class=\"flex items-center\">\n                <a href=\"/\" class=\"flex items-center space-x-3\">\n                    <div class=\"w-10 h-10 bg-gradient-to-r from-nepal-500 to-nepal-600 rounded-lg flex items-center justify-center\">\n                        <i class=\"fas fa-mountain text-white text-xl\"></i>\n                    </div>\n                    <span class=\"text-2xl font-display font-bold text-gradient\">travelNepal</span>\n                </a>\n            </div>\n            \n            <!-- Desktop Navigation -->\n            <div class=\"hidden md:block\">\n                <div class=\"flex items-center space-x-8\">\n                    <a href=\"/\" class=\"nav-link text-mountain-700 hover:text-nepal-600 font-medium transition-colors duration-200\">Home</a>\n                    <a href=\"/blog\" class=\"nav-link text-mountain-700 hover:text-nepal-600 font-medium transition-colors duration-200\">Travel Blog</a>\n                    <a href=\"/destinations\" class=\"nav-link text-mountain-700 hover:text-nepal-600 font-medium transition-colors duration-200\">Destinations</a>\n                    <a href=\"/about\" class=\"nav-link text-mountain-700 hover:text-nepal-600 font-medium transition-colors duration-200\">About</a>\n                    <a href=\"/contact\" class=\"nav-link text-mountain-700 hover:text-nepal-600 font-medium transition-colors duration-200\">Contact</a>\n                    \n                    <?php if (isLoggedIn()): ?>\n                        <a href=\"/admin/dashboard\" class=\"bg-nepal-500 text-white px-4 py-2 rounded-full hover:bg-nepal-600 transition-colors duration-200\">\n                            <i class=\"fas fa-user-cog mr-2\"></i>Admin\n                        </a>\n                        <a href=\"/admin/logout\" class=\"text-mountain-500 hover:text-nepal-600\">\n                            <i class=\"fas fa-sign-out-alt\"></i>\n                        </a>\n                    <?php else: ?>\n                        <a href=\"/admin/login\" class=\"text-mountain-500 hover:text-nepal-600\">\n                            <i class=\"fas fa-sign-in-alt\"></i>\n                        </a>\n                    <?php endif; ?>\n                </div>\n            </div>\n            \n            <!-- Mobile menu button -->\n            <div class=\"md:hidden\">\n                <button type=\"button\" class=\"mobile-menu-button text-mountain-700 hover:text-nepal-600 focus:outline-none\">\n                    <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>\n                </button>\n            </div>\n        </div>\n    </div>\n    \n    <!-- Mobile Navigation Menu -->\n    <div class=\"md:hidden mobile-menu hidden\">\n        <div class=\"px-2 pt-2 pb-3 space-y-1 bg-white border-t\">\n            <a href=\"/\" class=\"block px-3 py-2 text-mountain-700 hover:text-nepal-600 font-medium\">Home</a>\n            <a href=\"/blog\" class=\"block px-3 py-2 text-mountain-700 hover:text-nepal-600 font-medium\">Travel Blog</a>\n            <a href=\"/destinations\" class=\"block px-3 py-2 text-mountain-700 hover:text-nepal-600 font-medium\">Destinations</a>\n            <a href=\"/about\" class=\"block px-3 py-2 text-mountain-700 hover:text-nepal-600 font-medium\">About</a>\n            <a href=\"/contact\" class=\"block px-3 py-2 text-mountain-700 hover:text-nepal-600 font-medium\">Contact</a>\n            \n            <?php if (isLoggedIn()): ?>\n                <a href=\"/admin/dashboard\" class=\"block px-3 py-2 text-nepal-600 font-medium\">\n                    <i class=\"fas fa-user-cog mr-2\"></i>Admin Dashboard\n                </a>\n                <a href=\"/admin/logout\" class=\"block px-3 py-2 text-mountain-500\">\n                    <i class=\"fas fa-sign-out-alt mr-2\"></i>Logout\n                </a>\n            <?php else: ?>\n                <a href=\"/admin/login\" class=\"block px-3 py-2 text-mountain-500\">\n                    <i class=\"fas fa-sign-in-alt mr-2\"></i>Admin Login\n                </a>\n            <?php endif; ?>\n        </div>\n    </div>\n</nav>","size_bytes":4354},"templates/about.php":{"content":"<?php\n$page_title = 'About travelNepal - Your Nepal Adventure Experts';\n$page_description = 'Learn about travelNepal, your trusted guide to exploring the wonders of Nepal. We provide expert travel advice, cultural insights, and adventure planning for your Himalayan journey.';\n\nob_start();\n?>\n\n<!-- About Hero Section -->\n<section class=\"relative h-96 md:h-[500px] overflow-hidden\">\n    <div class=\"absolute inset-0 z-0\">\n        <img src=\"/assets/images/Kathmandu_temple_architecture_df1e8ace.png\" \n             alt=\"Nepal Culture\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-gradient-to-r from-mountain-800/80 to-mountain-600/60\"></div>\n    </div>\n    \n    <div class=\"relative z-10 flex items-center justify-center h-full text-center text-white px-4\">\n        <div class=\"max-w-4xl mx-auto animate-fade-in-up\">\n            <h1 class=\"text-4xl md:text-6xl font-display font-bold mb-6\">\n                About <span class=\"text-yellow-300\">travelNepal</span>\n            </h1>\n            <p class=\"text-xl md:text-2xl max-w-3xl mx-auto font-light\">\n                Your trusted companion for discovering the extraordinary beauty and culture of Nepal.\n            </p>\n        </div>\n    </div>\n</section>\n\n<!-- Our Story Section -->\n<section class=\"py-16 bg-white\">\n    <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n            <div class=\"animate-on-scroll\">\n                <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-6\">\n                    Our <span class=\"text-gradient\">Story</span>\n                </h2>\n                <p class=\"text-lg text-mountain-600 mb-6 leading-relaxed\">\n                    Founded by passionate travelers and Nepal natives, travelNepal was born from a deep love for the Himalayas and a desire to share the authentic beauty of Nepal with the world.\n                </p>\n                <p class=\"text-lg text-mountain-600 mb-6 leading-relaxed\">\n                    We believe that travel is more than just visiting places—it's about connecting with cultures, challenging yourself, and creating memories that last a lifetime. Nepal offers all of this and more.\n                </p>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    From the towering peaks of the Himalayas to the ancient streets of Kathmandu, we're here to guide you through every step of your Nepalese adventure.\n                </p>\n            </div>\n            <div class=\"animate-on-scroll\">\n                <img src=\"/assets/images/Everest_sunrise_panorama_20949daa.png\" \n                     alt=\"Nepal Mountains\" \n                     class=\"w-full h-96 object-cover rounded-2xl shadow-lg\">\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- Our Mission Section -->\n<section class=\"py-16 bg-mountain-50\">\n    <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-12\">\n            <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-4\">\n                Our <span class=\"text-gradient\">Mission</span>\n            </h2>\n            <p class=\"text-lg text-mountain-600 max-w-3xl mx-auto\">\n                We're committed to making Nepal accessible to travelers while promoting sustainable and responsible tourism.\n            </p>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <!-- Expert Guidance -->\n            <div class=\"text-center bg-white p-8 rounded-2xl shadow-lg card-hover\">\n                <div class=\"w-16 h-16 bg-nepal-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                    <i class=\"fas fa-compass text-2xl text-nepal-600\"></i>\n                </div>\n                <h3 class=\"text-xl font-bold text-mountain-800 mb-4\">Expert Guidance</h3>\n                <p class=\"text-mountain-600\">\n                    Providing authentic, well-researched travel information from locals and experienced trekkers who know Nepal intimately.\n                </p>\n            </div>\n            \n            <!-- Sustainable Tourism -->\n            <div class=\"text-center bg-white p-8 rounded-2xl shadow-lg card-hover\">\n                <div class=\"w-16 h-16 bg-nepal-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                    <i class=\"fas fa-leaf text-2xl text-nepal-600\"></i>\n                </div>\n                <h3 class=\"text-xl font-bold text-mountain-800 mb-4\">Sustainable Tourism</h3>\n                <p class=\"text-mountain-600\">\n                    Promoting responsible travel practices that benefit local communities and preserve Nepal's natural beauty for future generations.\n                </p>\n            </div>\n            \n            <!-- Cultural Respect -->\n            <div class=\"text-center bg-white p-8 rounded-2xl shadow-lg card-hover\">\n                <div class=\"w-16 h-16 bg-nepal-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                    <i class=\"fas fa-heart text-2xl text-nepal-600\"></i>\n                </div>\n                <h3 class=\"text-xl font-bold text-mountain-800 mb-4\">Cultural Respect</h3>\n                <p class=\"text-mountain-600\">\n                    Fostering deep appreciation and understanding of Nepal's rich cultural heritage, traditions, and diverse communities.\n                </p>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- What We Offer Section -->\n<section class=\"py-16 bg-white\">\n    <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-12\">\n            <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-4\">\n                What We <span class=\"text-gradient\">Offer</span>\n            </h2>\n            <p class=\"text-lg text-mountain-600 max-w-3xl mx-auto\">\n                Comprehensive resources to help you plan and experience the perfect Nepal adventure.\n            </p>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <!-- Travel Guides -->\n            <div class=\"flex items-start space-x-4 p-6 bg-mountain-50 rounded-xl\">\n                <div class=\"w-12 h-12 bg-nepal-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n                    <i class=\"fas fa-map text-white\"></i>\n                </div>\n                <div>\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3\">Detailed Travel Guides</h3>\n                    <p class=\"text-mountain-600\">\n                        In-depth guides covering trekking routes, cultural sites, practical tips, and insider knowledge to help you make the most of your journey.\n                    </p>\n                </div>\n            </div>\n            \n            <!-- Cultural Insights -->\n            <div class=\"flex items-start space-x-4 p-6 bg-mountain-50 rounded-xl\">\n                <div class=\"w-12 h-12 bg-nepal-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n                    <i class=\"fas fa-temple text-white\"></i>\n                </div>\n                <div>\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3\">Cultural Insights</h3>\n                    <p class=\"text-mountain-600\">\n                        Deep dives into Nepal's rich history, traditions, festivals, and customs to enhance your cultural understanding and appreciation.\n                    </p>\n                </div>\n            </div>\n            \n            <!-- Adventure Planning -->\n            <div class=\"flex items-start space-x-4 p-6 bg-mountain-50 rounded-xl\">\n                <div class=\"w-12 h-12 bg-nepal-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n                    <i class=\"fas fa-mountain text-white\"></i>\n                </div>\n                <div>\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3\">Adventure Planning</h3>\n                    <p class=\"text-mountain-600\">\n                        Expert advice on trekking preparation, gear recommendations, fitness tips, and safety guidelines for Himalayan adventures.\n                    </p>\n                </div>\n            </div>\n            \n            <!-- Local Connections -->\n            <div class=\"flex items-start space-x-4 p-6 bg-mountain-50 rounded-xl\">\n                <div class=\"w-12 h-12 bg-nepal-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n                    <i class=\"fas fa-users text-white\"></i>\n                </div>\n                <div>\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-3\">Local Connections</h3>\n                    <p class=\"text-mountain-600\">\n                        Recommendations for authentic experiences, local guides, and community-based tourism opportunities that support local economies.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- Team Values Section -->\n<section class=\"py-16 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h2 class=\"text-3xl md:text-4xl font-display font-bold mb-8\">\n            Why Choose travelNepal?\n        </h2>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12\">\n            <div class=\"text-center\">\n                <div class=\"text-4xl mb-4\">🏔️</div>\n                <h3 class=\"text-xl font-bold mb-2\">Local Expertise</h3>\n                <p class=\"opacity-90\">Born from the mountains, raised by the culture</p>\n            </div>\n            <div class=\"text-center\">\n                <div class=\"text-4xl mb-4\">🌱</div>\n                <h3 class=\"text-xl font-bold mb-2\">Responsible Travel</h3>\n                <p class=\"opacity-90\">Protecting Nepal for future generations</p>\n            </div>\n            <div class=\"text-center\">\n                <div class=\"text-4xl mb-4\">❤️</div>\n                <h3 class=\"text-xl font-bold mb-2\">Authentic Experiences</h3>\n                <p class=\"opacity-90\">Real stories, genuine connections</p>\n            </div>\n        </div>\n        \n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a href=\"/destinations\" class=\"bg-white text-nepal-600 hover:text-nepal-700 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-map-marked-alt mr-2\"></i>\n                Explore Destinations\n            </a>\n            <a href=\"/contact\" class=\"border-2 border-white hover:bg-white hover:text-nepal-600 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-envelope mr-2\"></i>\n                Get in Touch\n            </a>\n        </div>\n    </div>\n</section>\n\n<?php\n$content = ob_get_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":10915},"templates/contact.php":{"content":"<?php\n$page_title = 'Contact Us - Plan Your Nepal Adventure';\n$page_description = 'Get in touch with travelNepal for personalized travel advice, trip planning assistance, and expert guidance for your Nepal adventure. We\\'re here to help make your Himalayan dreams come true.';\n\nob_start();\n?>\n\n<!-- Contact Hero Section -->\n<section class=\"relative h-96 md:h-[500px] overflow-hidden\">\n    <div class=\"absolute inset-0 z-0\">\n        <img src=\"/assets/images/Pokhara_lake_reflections_ada62be7.png\" \n             alt=\"Pokhara Lake\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-gradient-to-r from-blue-600/80 to-nepal-500/60\"></div>\n    </div>\n    \n    <div class=\"relative z-10 flex items-center justify-center h-full text-center text-white px-4\">\n        <div class=\"max-w-4xl mx-auto animate-fade-in-up\">\n            <h1 class=\"text-4xl md:text-6xl font-display font-bold mb-6\">\n                Contact <span class=\"text-yellow-300\">Us</span>\n            </h1>\n            <p class=\"text-xl md:text-2xl max-w-3xl mx-auto font-light\">\n                Ready to start your Nepal adventure? We're here to help you plan the perfect journey.\n            </p>\n        </div>\n    </div>\n</section>\n\n<!-- Contact Content Section -->\n<section class=\"py-16 bg-gray-50\">\n    <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n            <!-- Contact Information -->\n            <div class=\"bg-white p-8 rounded-2xl shadow-lg\">\n                <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-8\">\n                    Get in <span class=\"text-gradient\">Touch</span>\n                </h2>\n                \n                <div class=\"space-y-6 mb-8\">\n                    <!-- Email -->\n                    <div class=\"flex items-start space-x-4\">\n                        <div class=\"w-12 h-12 bg-nepal-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                            <i class=\"fas fa-envelope text-nepal-600\"></i>\n                        </div>\n                        <div>\n                            <h3 class=\"text-lg font-semibold text-mountain-800 mb-1\">Email Us</h3>\n                            <p class=\"text-mountain-600 mb-2\">Get personalized travel advice and planning assistance</p>\n                            <a href=\"mailto:hello@travelnepal.com\" class=\"text-nepal-600 hover:text-nepal-700 font-medium\">\n                                hello@travelnepal.com\n                            </a>\n                        </div>\n                    </div>\n                    \n                    <!-- Phone -->\n                    <div class=\"flex items-start space-x-4\">\n                        <div class=\"w-12 h-12 bg-nepal-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                            <i class=\"fas fa-phone text-nepal-600\"></i>\n                        </div>\n                        <div>\n                            <h3 class=\"text-lg font-semibold text-mountain-800 mb-1\">Call Us</h3>\n                            <p class=\"text-mountain-600 mb-2\">Speak directly with our Nepal travel experts</p>\n                            <a href=\"tel:+97714123456\" class=\"text-nepal-600 hover:text-nepal-700 font-medium\">\n                                +977-1-4123456\n                            </a>\n                        </div>\n                    </div>\n                    \n                    <!-- Office Location -->\n                    <div class=\"flex items-start space-x-4\">\n                        <div class=\"w-12 h-12 bg-nepal-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                            <i class=\"fas fa-map-marker-alt text-nepal-600\"></i>\n                        </div>\n                        <div>\n                            <h3 class=\"text-lg font-semibold text-mountain-800 mb-1\">Visit Us</h3>\n                            <p class=\"text-mountain-600 mb-2\">Meet our team in the heart of Kathmandu</p>\n                            <p class=\"text-mountain-700\">\n                                Thamel, Kathmandu<br>\n                                Nepal 44600\n                            </p>\n                        </div>\n                    </div>\n                    \n                    <!-- Response Time -->\n                    <div class=\"flex items-start space-x-4\">\n                        <div class=\"w-12 h-12 bg-nepal-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                            <i class=\"fas fa-clock text-nepal-600\"></i>\n                        </div>\n                        <div>\n                            <h3 class=\"text-lg font-semibold text-mountain-800 mb-1\">Response Time</h3>\n                            <p class=\"text-mountain-600\">We typically respond within 24 hours</p>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Social Media -->\n                <div class=\"border-t border-mountain-200 pt-6\">\n                    <h3 class=\"text-lg font-semibold text-mountain-800 mb-4\">Follow Our Journey</h3>\n                    <div class=\"flex space-x-4\">\n                        <a href=\"#\" class=\"w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors\">\n                            <i class=\"fab fa-facebook-f\"></i>\n                        </a>\n                        <a href=\"#\" class=\"w-10 h-10 bg-pink-500 text-white rounded-full flex items-center justify-center hover:bg-pink-600 transition-colors\">\n                            <i class=\"fab fa-instagram\"></i>\n                        </a>\n                        <a href=\"#\" class=\"w-10 h-10 bg-blue-400 text-white rounded-full flex items-center justify-center hover:bg-blue-500 transition-colors\">\n                            <i class=\"fab fa-twitter\"></i>\n                        </a>\n                        <a href=\"#\" class=\"w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\">\n                            <i class=\"fab fa-youtube\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Contact Form -->\n            <div class=\"bg-white p-8 rounded-2xl shadow-lg\">\n                <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-8\">\n                    Send Us a <span class=\"text-gradient\">Message</span>\n                </h2>\n                \n                <form class=\"space-y-6\">\n                    <!-- Name -->\n                    <div>\n                        <label for=\"name\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            Full Name *\n                        </label>\n                        <input type=\"text\" id=\"name\" name=\"name\" required\n                               class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors\">\n                    </div>\n                    \n                    <!-- Email -->\n                    <div>\n                        <label for=\"email\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            Email Address *\n                        </label>\n                        <input type=\"email\" id=\"email\" name=\"email\" required\n                               class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors\">\n                    </div>\n                    \n                    <!-- Travel Dates -->\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                            <label for=\"travel-date\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                                Preferred Travel Date\n                            </label>\n                            <input type=\"date\" id=\"travel-date\" name=\"travel_date\"\n                                   class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors\">\n                        </div>\n                        <div>\n                            <label for=\"duration\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                                Trip Duration\n                            </label>\n                            <select id=\"duration\" name=\"duration\"\n                                    class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors\">\n                                <option value=\"\">Select duration</option>\n                                <option value=\"1-3 days\">1-3 days</option>\n                                <option value=\"4-7 days\">4-7 days</option>\n                                <option value=\"1-2 weeks\">1-2 weeks</option>\n                                <option value=\"2-3 weeks\">2-3 weeks</option>\n                                <option value=\"1 month+\">1 month+</option>\n                            </select>\n                        </div>\n                    </div>\n                    \n                    <!-- Interest -->\n                    <div>\n                        <label for=\"interests\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            What interests you most?\n                        </label>\n                        <select id=\"interests\" name=\"interests\"\n                                class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors\">\n                            <option value=\"\">Select your main interest</option>\n                            <option value=\"trekking\">Trekking & Hiking</option>\n                            <option value=\"culture\">Cultural Tours</option>\n                            <option value=\"adventure\">Adventure Sports</option>\n                            <option value=\"wildlife\">Wildlife & Nature</option>\n                            <option value=\"spiritual\">Spiritual Journey</option>\n                            <option value=\"photography\">Photography Tour</option>\n                            <option value=\"custom\">Custom Trip</option>\n                        </select>\n                    </div>\n                    \n                    <!-- Message -->\n                    <div>\n                        <label for=\"message\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            Tell us about your dream Nepal trip *\n                        </label>\n                        <textarea id=\"message\" name=\"message\" rows=\"5\" required\n                                  placeholder=\"Share your travel goals, interests, experience level, group size, budget considerations, or any specific questions you have about visiting Nepal...\"\n                                  class=\"w-full px-4 py-3 border border-mountain-300 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-nepal-500 transition-colors resize-none\"></textarea>\n                    </div>\n                    \n                    <!-- Submit Button -->\n                    <button type=\"submit\" \n                            class=\"w-full bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:-translate-y-1\">\n                        <i class=\"fas fa-paper-plane mr-2\"></i>\n                        Send Message\n                    </button>\n                </form>\n                \n                <p class=\"text-sm text-mountain-600 mt-4 text-center\">\n                    * Required fields. We respect your privacy and will never share your information.\n                </p>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- Location Map Section -->\n<section class=\"py-16 bg-gray-50\">\n    <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-12\">\n            <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-4\">\n                Discover <span class=\"text-gradient\">Nepal</span>\n            </h2>\n            <p class=\"text-lg text-mountain-600 max-w-3xl mx-auto\">\n                Nestled in the heart of the Himalayas between China and India, Nepal offers breathtaking landscapes, \n                rich culture, and unforgettable adventures. Explore our beautiful country and start planning your journey.\n            </p>\n        </div>\n        \n        <div class=\"bg-white rounded-2xl shadow-lg p-6 md:p-8\">\n            <div class=\"mb-6\">\n                <h3 class=\"text-2xl font-display font-bold text-mountain-800 mb-2\">\n                    Nepal Location Map\n                </h3>\n                <p class=\"text-mountain-600\">\n                    Nepal is a landlocked country in South Asia, home to Mount Everest and rich cultural heritage. \n                    Our team is based in Kathmandu, the vibrant capital city.\n                </p>\n            </div>\n            \n            <!-- Interactive Map Container -->\n            <div class=\"relative\">\n                <div id=\"nepal-map\" class=\"w-full h-96 md:h-[500px] rounded-xl overflow-hidden border border-mountain-200\"></div>\n                \n                <!-- Map Loading State -->\n                <div id=\"map-loading\" class=\"absolute inset-0 bg-mountain-50 rounded-xl flex items-center justify-center\">\n                    <div class=\"text-center\">\n                        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-nepal-500 mb-3\"></div>\n                        <p class=\"text-mountain-600\">Loading Nepal map...</p>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Map Features -->\n            <div class=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div class=\"text-center p-4 bg-nepal-50 rounded-lg\">\n                    <i class=\"fas fa-mountain text-nepal-600 text-2xl mb-2\"></i>\n                    <h4 class=\"font-semibold text-mountain-800\">Himalayan Views</h4>\n                    <p class=\"text-sm text-mountain-600\">Home to 8 of the world's 14 highest peaks</p>\n                </div>\n                <div class=\"text-center p-4 bg-nepal-50 rounded-lg\">\n                    <i class=\"fas fa-temple text-nepal-600 text-2xl mb-2\"></i>\n                    <h4 class=\"font-semibold text-mountain-800\">Rich Culture</h4>\n                    <p class=\"text-sm text-mountain-600\">Ancient temples and diverse traditions</p>\n                </div>\n                <div class=\"text-center p-4 bg-nepal-50 rounded-lg\">\n                    <i class=\"fas fa-hiking text-nepal-600 text-2xl mb-2\"></i>\n                    <h4 class=\"font-semibold text-mountain-800\">Adventure Hub</h4>\n                    <p class=\"text-sm text-mountain-600\">World-class trekking and outdoor activities</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- FAQ Section -->\n<section class=\"py-16 bg-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-12\">\n            <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-4\">\n                Frequently Asked <span class=\"text-gradient\">Questions</span>\n            </h2>\n            <p class=\"text-lg text-mountain-600\">\n                Quick answers to common questions about traveling to Nepal.\n            </p>\n        </div>\n        \n        <div class=\"space-y-6\">\n            <!-- FAQ Item 1 -->\n            <div class=\"bg-mountain-50 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-3\">\n                    <i class=\"fas fa-question-circle text-nepal-500 mr-2\"></i>\n                    When is the best time to visit Nepal?\n                </h3>\n                <p class=\"text-mountain-600\">\n                    The best times are during the pre-monsoon season (March-May) and post-monsoon season (September-November). These periods offer clear mountain views, stable weather, and comfortable temperatures for trekking.\n                </p>\n            </div>\n            \n            <!-- FAQ Item 2 -->\n            <div class=\"bg-mountain-50 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-3\">\n                    <i class=\"fas fa-question-circle text-nepal-500 mr-2\"></i>\n                    Do I need a visa to visit Nepal?\n                </h3>\n                <p class=\"text-mountain-600\">\n                    Most visitors can obtain a visa on arrival at Kathmandu airport or apply online in advance. Requirements vary by nationality, so we recommend checking current visa requirements before your trip.\n                </p>\n            </div>\n            \n            <!-- FAQ Item 3 -->\n            <div class=\"bg-mountain-50 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-3\">\n                    <i class=\"fas fa-question-circle text-nepal-500 mr-2\"></i>\n                    What level of fitness is required for trekking?\n                </h3>\n                <p class=\"text-mountain-600\">\n                    Fitness requirements vary by trek. Short cultural walks require basic fitness, while high-altitude treks like Everest Base Camp need good cardiovascular fitness and preparation. We provide detailed fitness guidelines for each trek.\n                </p>\n            </div>\n            \n            <!-- FAQ Item 4 -->\n            <div class=\"bg-mountain-50 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-mountain-800 mb-3\">\n                    <i class=\"fas fa-question-circle text-nepal-500 mr-2\"></i>\n                    How far in advance should I plan my trip?\n                </h3>\n                <p class=\"text-mountain-600\">\n                    We recommend booking major treks and accommodations 2-6 months in advance, especially during peak seasons. Last-minute trips are possible but may have limited options.\n                </p>\n            </div>\n        </div>\n        \n        <div class=\"text-center mt-8\">\n            <p class=\"text-mountain-600 mb-4\">Don't see your question answered?</p>\n            <a href=\"#\" class=\"text-nepal-600 hover:text-nepal-700 font-semibold\">\n                Send us a message and we'll help you out!\n            </a>\n        </div>\n    </div>\n</section>\n\n<script>\n// Initialize Nepal Map when page loads\ndocument.addEventListener('DOMContentLoaded', function() {\n    const mapLoading = document.getElementById('map-loading');\n    const mapContainer = document.getElementById('nepal-map');\n    \n    // Check if Leaflet library is available\n    if (window.L && typeof L.map === 'function') {\n        // Initialize map centered on Nepal\n        const map = L.map('nepal-map', {\n            center: [28.3949, 84.1240], // Nepal coordinates\n            zoom: 7, // Show whole country\n            zoomControl: true,\n            scrollWheelZoom: true,\n            dragging: true,\n            touchZoom: true,\n            doubleClickZoom: true\n        });\n        \n        // Add OpenStreetMap tiles\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n            maxZoom: 18,\n        }).addTo(map);\n        \n        // Custom icon for Nepal marker\n        const nepalIcon = L.divIcon({\n            className: 'custom-nepal-marker',\n            html: '<div class=\"marker-pin\"><i class=\"fas fa-map-marker-alt\"></i></div>',\n            iconSize: [30, 30],\n            iconAnchor: [15, 30]\n        });\n        \n        // Add marker for Kathmandu (capital city)\n        const kathmanduMarker = L.marker([27.7172, 85.3240], { icon: nepalIcon })\n            .addTo(map)\n            .bindPopup(`\n                <div class=\"map-popup\">\n                    <h4 class=\"font-bold text-mountain-800 mb-2\">\n                        <i class=\"fas fa-city text-nepal-500 mr-2\"></i>Kathmandu, Nepal\n                    </h4>\n                    <p class=\"text-mountain-600 mb-2\">Capital and largest city of Nepal</p>\n                    <p class=\"text-sm text-mountain-500\">Our team is located here to help plan your adventure!</p>\n                </div>\n            `, {\n                maxWidth: 250,\n                className: 'custom-popup'\n            });\n        \n        // Hide loading indicator after map loads\n        map.whenReady(function() {\n            setTimeout(() => {\n                mapLoading.style.display = 'none';\n            }, 500);\n        });\n        \n        // Make map responsive\n        function resizeMap() {\n            setTimeout(() => {\n                map.invalidateSize();\n            }, 100);\n        }\n        \n        // Handle window resize\n        window.addEventListener('resize', resizeMap);\n        \n        // Optional: Add fullscreen control if available\n        if (typeof L.control.fullscreen !== 'undefined') {\n            map.addControl(new L.control.fullscreen());\n        }\n    } else {\n        // Fallback when Leaflet library is not available\n        const fallbackMessage = `\n            <div class=\"text-center py-16\">\n                <div class=\"inline-flex items-center justify-center w-16 h-16 bg-mountain-100 rounded-full mb-4\">\n                    <i class=\"fas fa-map text-mountain-400 text-2xl\"></i>\n                </div>\n                <h3 class=\"text-xl font-semibold text-mountain-800 mb-2\">Map Temporarily Unavailable</h3>\n                <p class=\"text-mountain-600 mb-4\">\n                    We're experiencing issues loading the interactive map. Please try refreshing the page.\n                </p>\n                <div class=\"text-sm text-mountain-500 space-y-1\">\n                    <p><strong>Nepal Location:</strong> South Asia, between China and India</p>\n                    <p><strong>Capital:</strong> Kathmandu</p>\n                    <p><strong>Coordinates:</strong> 28.3949°N, 84.1240°E</p>\n                </div>\n                <button onclick=\"location.reload()\" \n                        class=\"mt-4 px-4 py-2 bg-nepal-500 text-white rounded-lg hover:bg-nepal-600 transition-colors\">\n                    <i class=\"fas fa-refresh mr-2\"></i>Retry Loading Map\n                </button>\n            </div>\n        `;\n        \n        mapContainer.innerHTML = fallbackMessage;\n        mapLoading.style.display = 'none';\n    }\n});\n</script>\n\n<?php\n$content = ob_get_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":22838},"templates/destinations.php":{"content":"<?php\n$page_title = 'Destinations - Explore Nepal\\'s Most Beautiful Places';\n$page_description = 'Discover Nepal\\'s top destinations from the towering Himalayas to ancient cultural sites. Plan your perfect journey through Everest, Annapurna, Kathmandu Valley and more.';\n\nob_start();\n?>\n\n<!-- Destinations Hero Section -->\n<section class=\"relative h-96 md:h-[500px] overflow-hidden\">\n    <div class=\"absolute inset-0 z-0\">\n        <img src=\"/assets/images/Prayer_flags_mountain_vista_1f2256d5.png\" \n             alt=\"Nepal Mountain Vista\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-gradient-to-r from-nepal-600/80 to-nepal-400/60\"></div>\n    </div>\n    \n    <div class=\"relative z-10 flex items-center justify-center h-full text-center text-white px-4\">\n        <div class=\"max-w-4xl mx-auto animate-fade-in-up\">\n            <h1 class=\"text-4xl md:text-6xl font-display font-bold mb-6\">\n                Nepal <span class=\"text-yellow-300\">Destinations</span>\n            </h1>\n            <p class=\"text-xl md:text-2xl max-w-3xl mx-auto font-light\">\n                From the world's highest peaks to ancient temples, discover the places that make Nepal extraordinary.\n            </p>\n        </div>\n    </div>\n</section>\n\n<!-- Destinations List -->\n<section class=\"py-16 bg-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center mb-16\">\n            <h2 class=\"text-3xl md:text-4xl font-display font-bold text-mountain-800 mb-4\">\n                Must-Visit <span class=\"text-gradient\">Destinations</span>\n            </h2>\n            <p class=\"text-lg text-mountain-600 max-w-2xl mx-auto\">\n                Each destination in Nepal offers unique experiences, from challenging treks to spiritual journeys.\n            </p>\n        </div>\n        \n        <div class=\"space-y-12\">\n            \n            <!-- Everest Base Camp -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Everest Base Camp</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    The ultimate trekking destination. Journey to the base of the world's highest peak and experience the raw beauty of the Himalayas at 5,364 meters. This challenging trek takes you through authentic Sherpa villages, past the historic Tengboche Monastery, and offers breathtaking views of the world's tallest mountains. The journey typically takes 12-16 days and is best undertaken during the clear seasons of October-November and March-May.\n                </p>\n            </div>\n\n            <!-- Annapurna Circuit -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Annapurna Circuit</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    This classic Himalayan trek offers diverse landscapes from subtropical forests to alpine deserts, crossing the famous Thorong La Pass at 5,416 meters. Experience diverse climate zones and traditional Gurung villages as you journey through one of Nepal's most varied trekking routes. The circuit typically requires 15-20 days and showcases the incredible biodiversity and cultural richness of the Annapurna region.\n                </p>\n            </div>\n\n            <!-- Kathmandu Valley -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Kathmandu Valley</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    A UNESCO World Heritage site with seven monument zones showcasing ancient temples, palaces, and traditional Newari architecture spanning centuries. Visit the sacred Pashupatinath Temple, the magnificent Boudhanath Stupa, and the historic Durbar Squares that tell the story of Nepal's rich cultural heritage. This cultural treasure can be explored comfortably in 2-4 days and offers year-round accessibility.\n                </p>\n            </div>\n\n            <!-- Pokhara -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Pokhara</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    Nepal's adventure capital offers stunning lake views, world-class paragliding, and serves as the gateway to Annapurna treks. Enjoy serene boat rides on Phewa Lake, experience thrilling paragliding adventures with stunning Annapurna range views, and explore the laid-back atmosphere of this beautiful lakeside city. The ideal destination for 2-5 days, with the best weather from October to April.\n                </p>\n            </div>\n\n            <!-- Chitwan National Park -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Chitwan National Park</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    This UNESCO World Heritage site protects endangered Bengal tigers, one-horned rhinos, and diverse wildlife in pristine tropical lowlands. Experience Bengal tiger spotting safaris, encounter one-horned rhinos in their natural habitat, and visit the elephant breeding center. The park offers an excellent wildlife experience over 2-4 days, with the ideal visiting season from October to March.\n                </p>\n            </div>\n\n            <!-- Langtang Valley -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Langtang Valley</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    Known as the \"Valley of Glaciers,\" this destination offers spectacular mountain views, rich Tibetan culture, and sacred lakes closest to Kathmandu. Marvel at majestic Langtang Lirung views, visit the ancient Kyanjin Gompa monastery, and trek to the sacred Gosaikunda lakes. This moderate trek takes 7-12 days and is best experienced during October-November and March-May.\n                </p>\n            </div>\n\n            <!-- Bandipur -->\n            <div class=\"border-b border-gray-200 pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Bandipur</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    A beautifully preserved medieval hilltop town with authentic 18th-century Newari architecture offering a glimpse into traditional Nepal. Explore the well-preserved architecture, visit the sacred Bindyabasini Temple, and enjoy panoramic Himalayan views from this charming settlement. This peaceful destination can be enjoyed in 1-2 days and offers year-round accessibility.\n                </p>\n            </div>\n\n            <!-- Lumbini -->\n            <div class=\"pb-8\">\n                <h3 class=\"text-2xl font-bold text-mountain-800 mb-4\">Lumbini</h3>\n                <p class=\"text-lg text-mountain-600 leading-relaxed\">\n                    UNESCO World Heritage site and sacred birthplace of Lord Buddha, featuring ancient ruins, peaceful gardens, and international monasteries. Visit the holy Maya Devi Temple, stroll through the sacred Bodhi Tree garden, and explore the international monastery zone representing Buddhist traditions from around the world. This spiritual pilgrimage site can be explored in 1-3 days and welcomes visitors year-round.\n                </p>\n            </div>\n\n        </div>\n    </div>\n</section>\n\n<!-- Call to Action -->\n<section class=\"py-16 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h2 class=\"text-3xl md:text-4xl font-display font-bold mb-6\">\n            Ready to Explore Nepal?\n        </h2>\n        <p class=\"text-xl mb-8 opacity-90\">\n            Start planning your journey to these incredible destinations today.\n        </p>\n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a href=\"/blog\" class=\"bg-white text-nepal-600 hover:text-nepal-700 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-book-open mr-2\"></i>\n                Read Travel Guides\n            </a>\n            <a href=\"/contact\" class=\"border-2 border-white hover:bg-white hover:text-nepal-600 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-envelope mr-2\"></i>\n                Plan Your Trip\n            </a>\n        </div>\n    </div>\n</section>\n\n<?php\n$content = ob_get_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":8705},"uploads/index.php":{"content":"<?php\n// Prevent direct access to uploads directory\nhttp_response_code(403);\ndie('Forbidden');\n?>","size_bytes":97},"uploads/2025/index.php":{"content":"<?php\n// Prevent direct access to uploads directory\nhttp_response_code(403);\ndie('Forbidden');\n?>","size_bytes":97},"uploads/2025/09/index.php":{"content":"<?php\n// Prevent direct access to uploads directory\nhttp_response_code(403);\ndie('Forbidden');\n?>","size_bytes":97},"templates/admin/destination-form.php":{"content":"<?php\n// Initialize variables to prevent undefined variable warnings\n$destination = $destination ?? null;\n$error = $error ?? null;\n$isEditing = isset($destination);\n$page_title = $isEditing ? 'Edit Destination - travelNepal Admin' : 'New Destination - travelNepal Admin';\n$page_description = $isEditing ? 'Edit your Nepal travel destination' : 'Create a new Nepal travel destination';\n\nob_start();\n?>\n\n<div class=\"min-h-screen bg-mountain-50\">\n    <!-- Header -->\n    <div class=\"bg-white border-b border-mountain-200\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div class=\"flex justify-between items-center\">\n                <div>\n                    <h1 class=\"text-2xl font-bold text-mountain-800\">\n                        <?php echo $isEditing ? 'Edit Destination' : 'Create New Destination'; ?>\n                    </h1>\n                    <p class=\"text-mountain-600 mt-1\">\n                        <?php echo $isEditing ? 'Update your Nepal travel destination' : 'Add a new amazing destination to Nepal'; ?>\n                    </p>\n                </div>\n                <a href=\"/admin/dashboard\" class=\"text-mountain-600 hover:text-nepal-600 font-medium\">\n                    <i class=\"fas fa-arrow-left mr-2\"></i>\n                    Back to Dashboard\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <!-- Form -->\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div class=\"bg-white rounded-2xl shadow-lg\">\n            <form method=\"POST\" action=\"/admin/destination/save\" enctype=\"multipart/form-data\" class=\"p-8 space-y-8\" id=\"destination-form\">\n                <input type=\"hidden\" name=\"csrf_token\" value=\"<?php echo generateCSRFToken(); ?>\">\n                <?php if ($isEditing): ?>\n                <input type=\"hidden\" name=\"slug\" value=\"<?php echo htmlspecialchars($destination['slug'] ?? ''); ?>\">\n                <?php endif; ?>\n\n                <?php if (isset($error)): ?>\n                <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                    <div class=\"flex items-center\">\n                        <i class=\"fas fa-exclamation-triangle text-red-500 mr-3\"></i>\n                        <span class=\"text-red-700\"><?php echo htmlspecialchars($error); ?></span>\n                    </div>\n                </div>\n                <?php endif; ?>\n\n                <!-- Basic Information -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <!-- Name -->\n                    <div>\n                        <label for=\"name\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-map-pin mr-2\"></i>Destination Name *\n                        </label>\n                        <input type=\"text\" \n                               id=\"name\" \n                               name=\"name\" \n                               required \n                               value=\"<?php echo htmlspecialchars($destination['name'] ?? ''); ?>\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent text-lg\"\n                               placeholder=\"Enter destination name\">\n                    </div>\n\n                    <!-- Category -->\n                    <div>\n                        <label for=\"category\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-tags mr-2\"></i>Category\n                        </label>\n                        <select id=\"category\" \n                                name=\"category\" \n                                class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                            <option value=\"\">Select category</option>\n                            <?php\n                            $categories = getDestinationCategories();\n                            foreach ($categories as $category):\n                            ?>\n                            <option value=\"<?php echo htmlspecialchars($category); ?>\" \n                                    <?php echo isset($destination['category']) && $destination['category'] === $category ? 'selected' : ''; ?>>\n                                <?php echo htmlspecialchars($category); ?>\n                            </option>\n                            <?php endforeach; ?>\n                        </select>\n                    </div>\n                </div>\n\n                <!-- Description -->\n                <div>\n                    <label for=\"description\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-quote-left mr-2\"></i>Short Description *\n                    </label>\n                    <textarea id=\"description\" \n                              name=\"description\" \n                              required \n                              rows=\"3\"\n                              class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent resize-none\"\n                              placeholder=\"Brief description for destination cards (150-200 characters)\"><?php echo htmlspecialchars($destination['description'] ?? ''); ?></textarea>\n                </div>\n\n                <!-- Long Description -->\n                <div>\n                    <label for=\"long_description\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-align-left mr-2\"></i>Detailed Description\n                    </label>\n                    <textarea id=\"long_description\" \n                              name=\"long_description\" \n                              rows=\"8\"\n                              class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                              placeholder=\"Detailed description about the destination, its attractions, and what makes it special\"><?php echo htmlspecialchars($destination['long_description'] ?? ''); ?></textarea>\n                </div>\n\n                <!-- Featured Image -->\n                <div>\n                    <label class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-image mr-2\"></i>Featured Image\n                    </label>\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                            <label for=\"featured_image\" class=\"block text-xs text-mountain-600 mb-1\">Image URL</label>\n                            <input type=\"url\" \n                                   id=\"featured_image\" \n                                   name=\"featured_image\" \n                                   value=\"<?php echo htmlspecialchars($destination['featured_image'] ?? ''); ?>\"\n                                   class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                                   placeholder=\"https://example.com/image.jpg\">\n                        </div>\n                        <div>\n                            <label for=\"image_upload\" class=\"block text-xs text-mountain-600 mb-1\">Or Upload Image</label>\n                            <input type=\"file\" \n                                   id=\"image_upload\" \n                                   name=\"image_upload\" \n                                   accept=\"image/jpeg,image/png,image/webp\"\n                                   class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Location Details -->\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    <div>\n                        <label for=\"region\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-map-marked-alt mr-2\"></i>Region\n                        </label>\n                        <select id=\"region\" \n                                name=\"region\" \n                                class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                            <option value=\"\">Select region</option>\n                            <?php\n                            $regions = getDestinationRegions();\n                            foreach ($regions as $region):\n                            ?>\n                            <option value=\"<?php echo htmlspecialchars($region); ?>\" \n                                    <?php echo isset($destination['region']) && $destination['region'] === $region ? 'selected' : ''; ?>>\n                                <?php echo htmlspecialchars($region); ?>\n                            </option>\n                            <?php endforeach; ?>\n                        </select>\n                    </div>\n\n                    <div>\n                        <label for=\"altitude_range\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-mountain mr-2\"></i>Altitude Range\n                        </label>\n                        <input type=\"text\" \n                               id=\"altitude_range\" \n                               name=\"altitude_range\" \n                               value=\"<?php echo htmlspecialchars($destination['altitude_range'] ?? ''); ?>\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                               placeholder=\"e.g., 2800m-5364m\">\n                    </div>\n\n                    <div>\n                        <label for=\"difficulty_level\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-signal mr-2\"></i>Difficulty Level\n                        </label>\n                        <select id=\"difficulty_level\" \n                                name=\"difficulty_level\" \n                                class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\">\n                            <option value=\"\">Select difficulty</option>\n                            <?php\n                            $difficulties = getDifficultyLevels();\n                            foreach ($difficulties as $difficulty):\n                            ?>\n                            <option value=\"<?php echo htmlspecialchars($difficulty); ?>\" \n                                    <?php echo isset($destination['difficulty_level']) && $destination['difficulty_level'] === $difficulty ? 'selected' : ''; ?>>\n                                <?php echo htmlspecialchars($difficulty); ?>\n                            </option>\n                            <?php endforeach; ?>\n                        </select>\n                    </div>\n                </div>\n\n                <!-- Trip Details -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                        <label for=\"duration\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-clock mr-2\"></i>Duration\n                        </label>\n                        <input type=\"text\" \n                               id=\"duration\" \n                               name=\"duration\" \n                               value=\"<?php echo htmlspecialchars($destination['duration'] ?? ''); ?>\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                               placeholder=\"e.g., 14-16 days, 2-3 days\">\n                    </div>\n\n                    <div>\n                        <label for=\"best_time_to_visit\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-calendar-alt mr-2\"></i>Best Time to Visit\n                        </label>\n                        <input type=\"text\" \n                               id=\"best_time_to_visit\" \n                               name=\"best_time_to_visit\" \n                               value=\"<?php echo htmlspecialchars($destination['best_time_to_visit'] ?? ''); ?>\"\n                               class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                               placeholder=\"e.g., March-May, September-November\">\n                    </div>\n                </div>\n\n                <!-- Lists -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                        <label for=\"highlights\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-star mr-2\"></i>Highlights\n                        </label>\n                        <textarea id=\"highlights\" \n                                  name=\"highlights\" \n                                  rows=\"4\"\n                                  class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                                  placeholder=\"Key attractions separated by commas\"><?php echo isset($destination['highlights']) ? implode(', ', $destination['highlights']) : ''; ?></textarea>\n                    </div>\n\n                    <div>\n                        <label for=\"activities\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                            <i class=\"fas fa-hiking mr-2\"></i>Activities\n                        </label>\n                        <textarea id=\"activities\" \n                                  name=\"activities\" \n                                  rows=\"4\"\n                                  class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                                  placeholder=\"Available activities separated by commas\"><?php echo isset($destination['activities']) ? implode(', ', $destination['activities']) : ''; ?></textarea>\n                    </div>\n                </div>\n\n                <!-- Additional Information -->\n                <div>\n                    <label for=\"transportation_info\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                        <i class=\"fas fa-route mr-2\"></i>Transportation Information\n                    </label>\n                    <textarea id=\"transportation_info\" \n                              name=\"transportation_info\" \n                              rows=\"3\"\n                              class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                              placeholder=\"How to get there, transportation options\"><?php echo htmlspecialchars($destination['transportation_info'] ?? ''); ?></textarea>\n                </div>\n\n                <!-- Checkboxes -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div class=\"space-y-4\">\n                        <div class=\"flex items-center\">\n                            <input type=\"checkbox\" \n                                   id=\"entry_permits_required\" \n                                   name=\"entry_permits_required\" \n                                   class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\"\n                                   <?php echo isset($destination['entry_permits_required']) && $destination['entry_permits_required'] ? 'checked' : ''; ?>>\n                            <label for=\"entry_permits_required\" class=\"ml-2 block text-sm text-mountain-700\">\n                                Entry permits required\n                            </label>\n                        </div>\n\n                        <div class=\"flex items-center\">\n                            <input type=\"checkbox\" \n                                   id=\"accommodation_available\" \n                                   name=\"accommodation_available\" \n                                   class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\"\n                                   <?php echo !isset($destination['accommodation_available']) || $destination['accommodation_available'] ? 'checked' : ''; ?>>\n                            <label for=\"accommodation_available\" class=\"ml-2 block text-sm text-mountain-700\">\n                                Accommodation available\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class=\"space-y-4\">\n                        <div class=\"flex items-center\">\n                            <input type=\"checkbox\" \n                                   id=\"featured\" \n                                   name=\"featured\" \n                                   class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\"\n                                   <?php echo isset($destination['featured']) && $destination['featured'] ? 'checked' : ''; ?>>\n                            <label for=\"featured\" class=\"ml-2 block text-sm text-mountain-700\">\n                                Featured destination\n                            </label>\n                        </div>\n\n                        <div class=\"flex items-center\">\n                            <input type=\"checkbox\" \n                                   id=\"published\" \n                                   name=\"published\" \n                                   class=\"h-4 w-4 text-nepal-600 focus:ring-nepal-500 border-mountain-300 rounded\"\n                                   <?php echo !isset($destination['published']) || $destination['published'] ? 'checked' : ''; ?>>\n                            <label for=\"published\" class=\"ml-2 block text-sm text-mountain-700\">\n                                Published\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- SEO Fields -->\n                <div class=\"border-t pt-8\">\n                    <h3 class=\"text-lg font-medium text-mountain-800 mb-4\">SEO Settings</h3>\n                    <div class=\"grid grid-cols-1 gap-6\">\n                        <div>\n                            <label for=\"meta_title\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                                Meta Title\n                            </label>\n                            <input type=\"text\" \n                                   id=\"meta_title\" \n                                   name=\"meta_title\" \n                                   value=\"<?php echo htmlspecialchars($destination['meta_title'] ?? $destination['name'] ?? ''); ?>\"\n                                   class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                                   placeholder=\"SEO title for search engines\">\n                        </div>\n\n                        <div>\n                            <label for=\"meta_description\" class=\"block text-sm font-medium text-mountain-700 mb-2\">\n                                Meta Description\n                            </label>\n                            <textarea id=\"meta_description\" \n                                      name=\"meta_description\" \n                                      rows=\"3\"\n                                      class=\"w-full px-4 py-3 border border-mountain-200 rounded-lg focus:ring-2 focus:ring-nepal-500 focus:border-transparent\"\n                                      placeholder=\"SEO description for search engines (150-160 characters)\"><?php echo htmlspecialchars($destination['meta_description'] ?? $destination['description'] ?? ''); ?></textarea>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Submit Buttons -->\n                <div class=\"flex items-center justify-between pt-6 border-t\">\n                    <a href=\"/admin/dashboard\" class=\"text-mountain-600 hover:text-mountain-800 font-medium\">\n                        <i class=\"fas fa-arrow-left mr-2\"></i>\n                        Cancel\n                    </a>\n                    \n                    <div class=\"flex space-x-4\">\n                        <button type=\"submit\" name=\"action\" value=\"draft\" \n                                class=\"bg-mountain-500 hover:bg-mountain-600 text-white font-semibold px-8 py-3 rounded-lg transition-colors\">\n                            <i class=\"fas fa-save mr-2\"></i>\n                            Save as Draft\n                        </button>\n                        \n                        <button type=\"submit\" name=\"action\" value=\"publish\" \n                                class=\"bg-gradient-to-r from-nepal-500 to-nepal-600 hover:from-nepal-600 hover:to-nepal-700 text-white font-semibold px-8 py-3 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg\">\n                            <i class=\"fas fa-globe mr-2\"></i>\n                            <?php echo $isEditing ? 'Update Destination' : 'Publish Destination'; ?>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n<?php\n$content = ob_get_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":21737},"templates/destination/detail.php":{"content":"<?php\n$page_title = htmlspecialchars($destination['name'] ?? 'Destination');\n$page_description = htmlspecialchars($destination['meta_description'] ?? $destination['description'] ?? 'Discover this amazing destination in Nepal.');\n\nob_start();\n?>\n\n<!-- Destination Hero Section -->\n<section class=\"relative h-96 md:h-[500px] overflow-hidden\">\n    <div class=\"absolute inset-0 z-0\">\n        <img src=\"<?php echo htmlspecialchars($destination['featured_image']); ?>\" \n             alt=\"<?php echo htmlspecialchars($destination['name']); ?>\" \n             class=\"w-full h-full object-cover\">\n        <div class=\"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent\"></div>\n    </div>\n    \n    <div class=\"relative z-10 flex items-end h-full\">\n        <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 text-white\">\n            <!-- Breadcrumb -->\n            <nav class=\"mb-4\">\n                <ol class=\"flex items-center space-x-2 text-sm opacity-80\">\n                    <li><a href=\"/\" class=\"hover:text-yellow-300 transition-colors\">Home</a></li>\n                    <li><i class=\"fas fa-chevron-right mx-2\"></i></li>\n                    <li><a href=\"/destinations\" class=\"hover:text-yellow-300 transition-colors\">Destinations</a></li>\n                    <li><i class=\"fas fa-chevron-right mx-2\"></i></li>\n                    <li class=\"text-yellow-300\"><?php echo htmlspecialchars($destination['name']); ?></li>\n                </ol>\n            </nav>\n            \n            <!-- Category Badge -->\n            <div class=\"mb-4\">\n                <span class=\"bg-nepal-500 text-white px-4 py-2 rounded-full text-sm font-medium\">\n                    <i class=\"fas fa-map-marker-alt mr-2\"></i>\n                    <?php echo htmlspecialchars($destination['category']); ?>\n                </span>\n                <?php if ($destination['region']): ?>\n                <span class=\"bg-mountain-700 text-white px-4 py-2 rounded-full text-sm font-medium ml-2\">\n                    <i class=\"fas fa-globe mr-2\"></i>\n                    <?php echo htmlspecialchars($destination['region']); ?>\n                </span>\n                <?php endif; ?>\n            </div>\n            \n            <!-- Title -->\n            <h1 class=\"text-4xl md:text-6xl font-display font-bold mb-4 leading-tight\">\n                <?php echo htmlspecialchars($destination['name']); ?>\n            </h1>\n            \n            <!-- Description -->\n            <p class=\"text-xl mb-6 opacity-90 max-w-2xl\">\n                <?php echo htmlspecialchars($destination['description']); ?>\n            </p>\n            \n            <!-- Meta Information -->\n            <div class=\"flex flex-wrap items-center gap-6 text-sm\">\n                <?php if ($destination['duration']): ?>\n                <div class=\"flex items-center\">\n                    <i class=\"fas fa-clock mr-2\"></i>\n                    <span><?php echo htmlspecialchars($destination['duration']); ?></span>\n                </div>\n                <?php endif; ?>\n                \n                <?php if ($destination['difficulty_level']): ?>\n                <div class=\"flex items-center\">\n                    <i class=\"fas fa-signal mr-2\"></i>\n                    <span><?php echo htmlspecialchars($destination['difficulty_level']); ?></span>\n                </div>\n                <?php endif; ?>\n                \n                <?php if ($destination['altitude_range']): ?>\n                <div class=\"flex items-center\">\n                    <i class=\"fas fa-mountain mr-2\"></i>\n                    <span><?php echo htmlspecialchars($destination['altitude_range']); ?></span>\n                </div>\n                <?php endif; ?>\n            </div>\n        </div>\n    </div>\n</section>\n\n<!-- Destination Content -->\n<article class=\"py-16 bg-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <!-- Main Content -->\n        <div class=\"prose prose-lg max-w-none mb-12\">\n            <?php if ($destination['long_description']): ?>\n                <div class=\"text-mountain-700 leading-relaxed\">\n                    <?php echo nl2br(htmlspecialchars($destination['long_description'])); ?>\n                </div>\n            <?php endif; ?>\n        </div>\n        \n        <!-- Quick Facts Grid -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12\">\n            <?php if ($destination['best_time_to_visit']): ?>\n            <div class=\"bg-gray-50 rounded-lg p-6\">\n                <div class=\"flex items-center mb-3\">\n                    <i class=\"fas fa-calendar-alt text-nepal-500 text-xl mr-3\"></i>\n                    <h3 class=\"font-semibold text-mountain-800\">Best Time to Visit</h3>\n                </div>\n                <p class=\"text-mountain-600\"><?php echo htmlspecialchars($destination['best_time_to_visit']); ?></p>\n            </div>\n            <?php endif; ?>\n            \n            <?php if ($destination['entry_permits_required']): ?>\n            <div class=\"bg-gray-50 rounded-lg p-6\">\n                <div class=\"flex items-center mb-3\">\n                    <i class=\"fas fa-id-card text-nepal-500 text-xl mr-3\"></i>\n                    <h3 class=\"font-semibold text-mountain-800\">Entry Permits</h3>\n                </div>\n                <p class=\"text-mountain-600\">Special permits required</p>\n            </div>\n            <?php endif; ?>\n            \n            <?php if ($destination['accommodation_available']): ?>\n            <div class=\"bg-gray-50 rounded-lg p-6\">\n                <div class=\"flex items-center mb-3\">\n                    <i class=\"fas fa-bed text-nepal-500 text-xl mr-3\"></i>\n                    <h3 class=\"font-semibold text-mountain-800\">Accommodation</h3>\n                </div>\n                <p class=\"text-mountain-600\">Various options available</p>\n            </div>\n            <?php endif; ?>\n        </div>\n        \n        <!-- Highlights -->\n        <?php if (!empty($destination['highlights'])): ?>\n        <div class=\"mb-12\">\n            <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-6\">Highlights</h2>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <?php foreach ($destination['highlights'] as $highlight): ?>\n                <div class=\"flex items-center\">\n                    <i class=\"fas fa-check text-nepal-500 mr-3\"></i>\n                    <span class=\"text-mountain-700\"><?php echo htmlspecialchars($highlight); ?></span>\n                </div>\n                <?php endforeach; ?>\n            </div>\n        </div>\n        <?php endif; ?>\n        \n        <!-- Activities -->\n        <?php if (!empty($destination['activities'])): ?>\n        <div class=\"mb-12\">\n            <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-6\">Activities</h2>\n            <div class=\"flex flex-wrap gap-3\">\n                <?php foreach ($destination['activities'] as $activity): ?>\n                <span class=\"bg-nepal-100 text-nepal-700 px-4 py-2 rounded-full text-sm font-medium\">\n                    <?php echo htmlspecialchars($activity); ?>\n                </span>\n                <?php endforeach; ?>\n            </div>\n        </div>\n        <?php endif; ?>\n        \n        <!-- Transportation -->\n        <?php if ($destination['transportation_info']): ?>\n        <div class=\"mb-12\">\n            <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-6\">Getting There</h2>\n            <div class=\"bg-blue-50 rounded-lg p-6\">\n                <div class=\"text-mountain-700\">\n                    <?php echo nl2br(htmlspecialchars($destination['transportation_info'])); ?>\n                </div>\n            </div>\n        </div>\n        <?php endif; ?>\n    </div>\n</article>\n\n<!-- Related Destinations -->\n<section class=\"py-16 bg-gray-50\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h2 class=\"text-3xl font-display font-bold text-mountain-800 mb-8 text-center\">\n            Other Destinations You Might Like\n        </h2>\n        \n        <?php \n        // Load other destinations (excluding current one)\n        $relatedDestinations = loadDestinations(3, ['exclude_slug' => $destination['slug']]);\n        if (!empty($relatedDestinations)): \n        ?>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <?php foreach ($relatedDestinations as $relatedDest): ?>\n            <div class=\"card-hover bg-white rounded-2xl shadow-lg overflow-hidden\">\n                <div class=\"relative h-48\">\n                    <img src=\"<?php echo htmlspecialchars($relatedDest['featured_image']); ?>\" \n                         alt=\"<?php echo htmlspecialchars($relatedDest['name']); ?>\" \n                         class=\"w-full h-full object-cover\">\n                    <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                    <div class=\"absolute bottom-4 left-4 text-white\">\n                        <span class=\"bg-nepal-500 px-3 py-1 rounded-full text-sm font-medium\">\n                            <?php echo htmlspecialchars($relatedDest['category']); ?>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"p-6\">\n                    <h3 class=\"text-xl font-bold text-mountain-800 mb-2\">\n                        <?php echo htmlspecialchars($relatedDest['name']); ?>\n                    </h3>\n                    <p class=\"text-mountain-600 mb-4 text-sm\">\n                        <?php echo htmlspecialchars(truncateText($relatedDest['description'], 100)); ?>\n                    </p>\n                    <div class=\"flex items-center justify-between\">\n                        <?php if ($relatedDest['duration']): ?>\n                        <span class=\"text-nepal-600 font-semibold text-sm\">\n                            <?php echo htmlspecialchars($relatedDest['duration']); ?>\n                        </span>\n                        <?php endif; ?>\n                        <a href=\"/destination/<?php echo htmlspecialchars($relatedDest['slug']); ?>\" \n                           class=\"text-nepal-600 hover:text-nepal-700 font-semibold text-sm\">\n                            Learn More <i class=\"fas fa-arrow-right ml-1\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <?php endforeach; ?>\n        </div>\n        <?php endif; ?>\n    </div>\n</section>\n\n<!-- Call to Action -->\n<section class=\"py-16 bg-gradient-to-r from-nepal-500 to-nepal-600 text-white\">\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n        <h2 class=\"text-3xl md:text-4xl font-display font-bold mb-6\">\n            Ready to Explore <?php echo htmlspecialchars($destination['name']); ?>?\n        </h2>\n        <p class=\"text-xl mb-8 opacity-90\">\n            Start planning your journey to this incredible destination today.\n        </p>\n        <div class=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <a href=\"/blog\" class=\"bg-white text-nepal-600 hover:text-nepal-700 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-book-open mr-2\"></i>\n                Read Travel Guides\n            </a>\n            <a href=\"/contact\" class=\"border-2 border-white hover:bg-white hover:text-nepal-600 font-semibold px-8 py-3 rounded-full transition-colors\">\n                <i class=\"fas fa-envelope mr-2\"></i>\n                Plan Your Trip\n            </a>\n        </div>\n    </div>\n</section>\n\n<?php\n$content = ob_get_clean();\ninclude TEMPLATES_PATH . '/layout.php';\n?>","size_bytes":11555},"templates/components/admin-sidebar.php":{"content":"<?php\n// Admin Navigation Sidebar Component\n// Maintains consistent navigation across all admin pages\n\n$current_page = $_SERVER['REQUEST_URI'] ?? '';\n$is_dashboard = str_contains($current_page, '/admin/dashboard');\n$is_post_create = str_contains($current_page, '/admin/post/create');\n$is_post_edit = str_contains($current_page, '/admin/post/edit');\n?>\n\n<!-- Admin Sidebar -->\n<div class=\"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl border-r border-mountain-200 transform transition-transform duration-300 ease-in-out\" id=\"admin-sidebar\">\n    <div class=\"flex flex-col h-full\">\n        <!-- Sidebar Header -->\n        <div class=\"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-nepal-500 to-nepal-600\">\n            <div class=\"flex items-center\">\n                <div class=\"w-8 h-8 bg-white rounded-lg flex items-center justify-center mr-3\">\n                    <i class=\"fas fa-mountain text-nepal-600 text-lg\"></i>\n                </div>\n                <div>\n                    <h2 class=\"text-white font-display font-bold text-lg\">travelNepal</h2>\n                    <p class=\"text-nepal-100 text-xs\">Admin Panel</p>\n                </div>\n            </div>\n            <button onclick=\"toggleSidebar()\" class=\"lg:hidden text-white hover:text-nepal-200 transition-colors\">\n                <i class=\"fas fa-times text-lg\"></i>\n            </button>\n        </div>\n\n        <!-- Navigation Menu -->\n        <nav class=\"flex-1 px-4 py-6 space-y-2\">\n            <!-- Dashboard -->\n            <a href=\"/admin/dashboard\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors <?php echo $is_dashboard ? 'bg-nepal-50 text-nepal-700 border-l-4 border-nepal-500' : 'text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600'; ?>\">\n                <i class=\"fas fa-tachometer-alt mr-3 w-5\"></i>\n                Dashboard\n            </a>\n\n            <!-- Blog Posts Section -->\n            <div class=\"pt-4\">\n                <h3 class=\"px-4 text-xs font-semibold text-mountain-500 uppercase tracking-wider mb-2\">Blog Management</h3>\n                \n                <!-- Create New Post -->\n                <a href=\"/admin/post/create\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors <?php echo $is_post_create ? 'bg-nepal-50 text-nepal-700 border-l-4 border-nepal-500' : 'text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600'; ?>\">\n                    <i class=\"fas fa-plus mr-3 w-5\"></i>\n                    New Post\n                </a>\n\n                <!-- Manage Posts -->\n                <a href=\"/admin/dashboard#posts\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors <?php echo ($is_dashboard || $is_post_edit) ? 'bg-mountain-50 text-nepal-600' : 'text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600'; ?>\">\n                    <i class=\"fas fa-file-alt mr-3 w-5\"></i>\n                    Manage Posts\n                </a>\n\n                <!-- Categories -->\n                <a href=\"/admin/dashboard#categories\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600\">\n                    <i class=\"fas fa-tags mr-3 w-5\"></i>\n                    Categories\n                </a>\n            </div>\n\n            <!-- Quick Actions -->\n            <div class=\"pt-4\">\n                <h3 class=\"px-4 text-xs font-semibold text-mountain-500 uppercase tracking-wider mb-2\">Quick Actions</h3>\n                \n                <!-- View Site -->\n                <a href=\"/\" target=\"_blank\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600\">\n                    <i class=\"fas fa-external-link-alt mr-3 w-5\"></i>\n                    View Site\n                </a>\n\n                <!-- Blog Posts -->\n                <a href=\"/blog\" target=\"_blank\" class=\"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-mountain-700 hover:bg-mountain-50 hover:text-nepal-600\">\n                    <i class=\"fas fa-blog mr-3 w-5\"></i>\n                    View Blog\n                </a>\n            </div>\n        </nav>\n\n        <!-- User Section -->\n        <div class=\"border-t border-mountain-200 p-4\">\n            <div class=\"flex items-center mb-4\">\n                <div class=\"w-10 h-10 bg-gradient-to-br from-nepal-500 to-nepal-600 rounded-full flex items-center justify-center mr-3\">\n                    <i class=\"fas fa-user text-white\"></i>\n                </div>\n                <div>\n                    <p class=\"text-sm font-medium text-mountain-900\">Admin User</p>\n                    <p class=\"text-xs text-mountain-500\">travelNepal Admin</p>\n                </div>\n            </div>\n            \n            <!-- Logout -->\n            <a href=\"/admin/logout\" class=\"flex items-center w-full px-4 py-3 text-sm font-medium text-red-600 rounded-lg hover:bg-red-50 transition-colors\">\n                <i class=\"fas fa-sign-out-alt mr-3 w-5\"></i>\n                Logout\n            </a>\n        </div>\n    </div>\n</div>\n\n<!-- Mobile Sidebar Overlay -->\n<div class=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden hidden\" id=\"sidebar-overlay\" onclick=\"toggleSidebar()\"></div>\n\n<!-- Mobile Sidebar Toggle Button -->\n<button onclick=\"toggleSidebar()\" class=\"fixed top-4 left-4 z-60 lg:hidden bg-nepal-600 text-white p-3 rounded-lg shadow-lg hover:bg-nepal-700 transition-colors\">\n    <i class=\"fas fa-bars text-lg\"></i>\n</button>\n\n<script>\nfunction toggleSidebar() {\n    const sidebar = document.getElementById('admin-sidebar');\n    const overlay = document.getElementById('sidebar-overlay');\n    \n    if (window.innerWidth >= 1024) {\n        // Desktop - toggle sidebar visibility\n        sidebar.classList.toggle('-translate-x-full');\n    } else {\n        // Mobile - show/hide with overlay\n        const isHidden = sidebar.classList.contains('-translate-x-full');\n        \n        if (isHidden) {\n            sidebar.classList.remove('-translate-x-full');\n            overlay.classList.remove('hidden');\n            overlay.classList.add('flex');\n        } else {\n            sidebar.classList.add('-translate-x-full');\n            overlay.classList.add('hidden');\n            overlay.classList.remove('flex');\n        }\n    }\n}\n\n// Close sidebar on mobile when clicking navigation links\ndocument.addEventListener('DOMContentLoaded', function() {\n    const navLinks = document.querySelectorAll('#admin-sidebar a[href]');\n    navLinks.forEach(link => {\n        link.addEventListener('click', function() {\n            if (window.innerWidth < 1024) {\n                toggleSidebar();\n            }\n        });\n    });\n    \n    // Initialize sidebar state on mobile\n    if (window.innerWidth < 1024) {\n        document.getElementById('admin-sidebar').classList.add('-translate-x-full');\n    }\n});\n\n// Handle window resize\nwindow.addEventListener('resize', function() {\n    const sidebar = document.getElementById('admin-sidebar');\n    const overlay = document.getElementById('sidebar-overlay');\n    \n    if (window.innerWidth >= 1024) {\n        // Desktop - ensure sidebar is visible and overlay is hidden\n        sidebar.classList.remove('-translate-x-full');\n        overlay.classList.add('hidden');\n        overlay.classList.remove('flex');\n    } else {\n        // Mobile - ensure sidebar is hidden initially\n        sidebar.classList.add('-translate-x-full');\n        overlay.classList.add('hidden');\n        overlay.classList.remove('flex');\n    }\n});\n</script>","size_bytes":7624}},"version":1}